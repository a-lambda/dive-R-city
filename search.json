[
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Bienvenue",
    "section": "",
    "text": "Premier post informel. Bienvenue !\n\nJ’ai repris cette image mais le smartphone me semble de trop ici."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "dive-R-city",
    "section": "",
    "text": "List files without directory part\n\n\n\n\n\n\nnews\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\nDec 23, 2024\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nBienvenue\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\nDec 23, 2024\n\n\nAlcor\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "A propos",
    "section": "",
    "text": "Un bac à sable de plus … :)"
  },
  {
    "objectID": "posts/20241223-1_post-with-code/index.html",
    "href": "posts/20241223-1_post-with-code/index.html",
    "title": "List files without directory part",
    "section": "",
    "text": "Get the list of files recursively from a directory (without the folder part in the filename if it does exist)\n\n\nCode\nlibrary(stringi) # stri_split_fixed\nlibrary(purrr)   # map\nlibrary(microbenchmark)\n\n\n\nfunction list_of_files\n\nlist_of_files &lt;- function(path, ...) {\n  \n  return(\n    list.files(path = path, ...) |&gt;\n      map(\\(x) {tail(stri_split_fixed(x, \"/\")[[1]], n = 1)}) |&gt; \n      unlist()\n  )\n  \n}\n\n\n\nbenchmarking comparisons\n\n\nCode\ndir_test &lt;- getwd()\n\nmicrobenchmark(\n  list_of_files(path = dir_test, recursive = TRUE),\n  list.files(path = dir_test, recursive = TRUE)\n  \n)\n\n\nUnit: microseconds\n                                             expr    min     lq      mean\n list_of_files(path = dir_test, recursive = TRUE) 73.658 76.422 126.69426\n    list.files(path = dir_test, recursive = TRUE) 17.392 18.099  21.80266\n median      uq      max neval\n 78.081 80.2340 3178.941   100\n 22.467 22.8925   94.526   100\n\n\n\n\nresults when applying\n\nlist.files(path = \"../\", recursive = TRUE) |&gt; tail(n = 10)\n\n[1] \"_metadata.yml\"                            \n[2] \"20241223-1_post-with-code/image.jpg\"      \n[3] \"20241223-1_post-with-code/index.qmd\"      \n[4] \"20241223-1_post-with-code/index.rmarkdown\"\n[5] \"welcome/index.qmd\"                        \n[6] \"welcome/thumbnail.jpg\"                    \n\nlist_of_files(path = \"../\", recursive = TRUE) |&gt;  tail(n = 10)\n\n[1] \"_metadata.yml\"   \"image.jpg\"       \"index.qmd\"       \"index.rmarkdown\"\n[5] \"index.qmd\"       \"thumbnail.jpg\""
  }
]