[
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Bienvenue",
    "section": "",
    "text": "Premier post informel. Bienvenue !\n\nJ’ai repris cette image mais le smartphone me semble de trop ici.\n\n\n\n Retour au sommet"
  },
  {
    "objectID": "posts/20250123-4_pkg_licenses/index.html",
    "href": "posts/20250123-4_pkg_licenses/index.html",
    "title": "Les licences associées aux paquets du dépôt CRAN",
    "section": "",
    "text": "Code\nlibrary(tools)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(gt)\n\n\n\n\n\npdb &lt;- tools::CRAN_package_db()\n\nLes tableaux ci-dessous devront être transformés pour présenter de manière simplifiée les licences principales utilisées.\n\n\nCode\ntable_licenses &lt;- table(pdb$License)\ntbl_licenses   &lt;- table_licenses |&gt; \n  as.matrix() |&gt; \n  as_tibble() |&gt; \n  dplyr::mutate(license = dimnames(table_licenses)[[1]]) |&gt; \n  rename(\"Nom licence\" = license,\n          occurrences = V1,\n        ) |&gt; \n  dplyr::relocate(\"Nom licence\")\n\n\n\n\n\n\n#|label: orphan_licenses\n\ntbl_orphan_licenses &lt;- tbl_licenses |&gt; \n    dplyr::filter(occurrences == 1) |&gt; \n    left_join(pdb, join_by(\"Nom licence\" == License)) |&gt; \n    select(Package, \"Nom licence\")\n\ngt_orphan_licenses &lt;- gt(tbl_orphan_licenses) |&gt; \n  tab_header(\n    title    = md(\"**Licences orphelines**\"),\n    subtitle = md(\"(occurrence de licence égale à 1 pour un paquet donné)\")\n  ) \n\ngt_orphan_licenses\n\n\n\n\n\n\n\nLicences orphelines\n\n\n(occurrence de licence égale à 1 pour un paquet donné)\n\n\nPackage\nNom licence\n\n\n\n\nQDiabetes\nAGPL-3 + file LICENSE\n\n\nround\nAGPL (&gt;= 3) | file LICENSE\n\n\nEGAnet\nAGPL (&gt;= 3.0)\n\n\ntidywater\nApache License (&gt;= 2) | MIT + file LICENSE\n\n\nAutoDeskR\nApache License | file LICENSE\n\n\nrtson\nApache License Version 2.0\n\n\ntmle\nBSD_3_clause + file LICENSE | GPL-2\n\n\ninstall.load\nCC BY-SA 4.0 | GPL-3 | file LICENSE\n\n\ngmGeostats\nCC BY-SA 4.0 | GPL (&gt;= 2)\n\n\nigraphdata\nCC BY-SA 4.0 + file LICENSE\n\n\nSCGLR\nCeCILL-2 | GPL-2\n\n\nvigicaen\nCeCILL-2.1\n\n\nrunMCMCbtadjust\nCECILL-2.1\n\n\nAMAPVox\nCeCILL (&gt;= 2)\n\n\nRcsdp\nCPL-1.0\n\n\ntest2norm\nCPL (&gt;= 2)\n\n\nei.Datasets\nEPL | CC BY 4.0 | file LICENSE\n\n\nlphom\nEPL | file LICENSE\n\n\nflagr\nEUPL-1.1\n\n\nhdar\nEUPL (&gt;= 1.2) | file LICENSE\n\n\nvardpoor\nEUPL | file LICENSE\n\n\nfontBitstreamVera\nfile LICENCE\n\n\nfastcluster\nFreeBSD | GPL-2 | file LICENSE\n\n\nvisvow\nGNU General Public License (&gt;= 2)\n\n\nNIPTeR\nGNU Lesser General Public License\n\n\nblender\nGPL-2 | Artistic-2.0\n\n\nRefManageR\nGPL-2 | GPL-3 | BSD_3_clause + file LICENSE\n\n\nrspm\nGPL-2 | GPL-3 | MIT + file LICENSE\n\n\ndmm\nGPL-2 | GPL (&gt;= 2) | GPL-3\n\n\nhunspell\nGPL-2 | LGPL-2.1 | MPL-1.1\n\n\nmidasr\nGPL-2 | MIT + file LICENCE\n\n\nsf\nGPL-2 | MIT + file LICENSE\n\n\nmapscanner\nGPL-3 | BSD_2_clause + file LICENSE\n\n\nconvergEU\nGPL-3 | BSD_3_clause + file LICENSE\n\n\neyelinker\nGPL-3 | file LICENCE\n\n\nmagree\nGPL-3 | GPL-2\n\n\nrxylib\nGPL-3 | LGPL-2.1\n\n\nconf\nGPL (&lt;= 2)\n\n\nminiGUI\nGPL (&lt;= 2.0)\n\n\nrjags\nGPL (== 2)\n\n\nPade\nGPL (&gt;= 2) | BSD_2_clause + file LICENSE\n\n\nsoilhypfit\nGPL (&gt;= 2) | LGPL-3\n\n\nmedfate\nGPL (&gt;= 2) | LGPL (&gt;= 3)\n\n\nRCriteo\nGPL (&gt;= 2) | MIT + file LICENSE\n\n\nmeteo\nGPL (&gt;= 2.0) | file LICENCE\n\n\nMAT\nGPL (&gt;= 2.10)\n\n\nTrialSize\nGPL (&gt;= 2.15.1)\n\n\nRM.weights\nGPL (&gt;= 3.0.0)\n\n\nconcatenate\nGPL (&gt;= 3.2)\n\n\ngMOIP\nGPL (&gt;= 3.3.2)\n\n\nseqminer\nGPL | file LICENSE\n\n\nsynchronicity\nLGPL-2 | Apache License 2.0\n\n\nbsts\nLGPL-2.1 | MIT + file LICENSE\n\n\ntcltk2\nLGPL-3 + file LICENSE\n\n\nRSNNS\nLGPL (&gt;= 2) | file LICENSE\n\n\nShortForm\nLGPL (&gt;= 2.0, &lt; 3) | Mozilla Public License\n\n\nmapproj\nLucent Public License\n\n\nlabeling\nMIT + file LICENSE | Unlimited\n\n\nRH2\nMozilla Public License 1.1\n\n\nASGS.foyer\nMPL\n\n\nvenneuler\nMPL-1.1\n\n\nsparseHessianFD\nMPL (== 2.0)\n\n\nRSpectra\nMPL (&gt;= 2)\n\n\nFIT\nMPL (&gt;= 2) | file LICENSE\n\n\nRborist\nMPL (&gt;= 2) | GPL (&gt;= 2) | file LICENSE\n\n\n\n\n\n\n\n\n\n\n\n#|label: other_licenses\n\ntbl_other_licenses &lt;- tbl_licenses |&gt; \n  filter(occurrences &gt; 1)\n\ngt_other_licenses &lt;- gt(tbl_other_licenses) |&gt; \n  tab_header(\n    title    = md(\"**Licences non orphelines**\"),\n    subtitle = md(\"(occurrences de licence supérieure à 1 pour un paquet donné)\")\n  ) \n\ngt_other_licenses\n\n\n\n\n\n\n\nLicences non orphelines\n\n\n(occurrences de licence supérieure à 1 pour un paquet donné)\n\n\nNom licence\noccurrences\n\n\n\n\nACM | file LICENSE\n2\n\n\nAGPL\n7\n\n\nAGPL-3\n126\n\n\nAGPL-3 | file LICENSE\n13\n\n\nAGPL (&gt;= 3)\n63\n\n\nAGPL + file LICENSE\n2\n\n\nApache License\n21\n\n\nApache License (== 2)\n6\n\n\nApache License (== 2.0)\n66\n\n\nApache License (== 2.0) | file LICENSE\n12\n\n\nApache License (&gt;= 2)\n158\n\n\nApache License (&gt;= 2.0)\n56\n\n\nApache License 2.0\n145\n\n\nApache License 2.0 | file LICENSE\n31\n\n\nArtistic-2.0\n106\n\n\nArtistic License 2.0\n6\n\n\nBSD 2-clause License + file LICENSE\n12\n\n\nBSD 3-clause License + file LICENSE\n3\n\n\nBSD_2_clause + file LICENCE\n3\n\n\nBSD_2_clause + file LICENSE\n110\n\n\nBSD_3_clause + file LICENCE\n6\n\n\nBSD_3_clause + file LICENSE\n138\n\n\nBSD_3_clause + file LICENSE | GPL (&gt;= 2)\n5\n\n\nBSL\n2\n\n\nBSL-1.0\n7\n\n\nCC BY-NC-SA 4.0\n15\n\n\nCC BY-NC 4.0\n4\n\n\nCC BY-SA 4.0\n25\n\n\nCC BY 4.0\n83\n\n\nCC0\n242\n\n\nCC0 | file LICENSE\n2\n\n\nCeCILL\n8\n\n\nCeCILL-2\n12\n\n\nCeCILL-2 | file LICENSE\n2\n\n\nCommon Public License Version 1.0\n2\n\n\nCreative Commons Attribution 4.0 International License\n2\n\n\nEPL\n4\n\n\nEUPL\n32\n\n\nEUPL (&gt;= 1.1)\n2\n\n\nEUPL (&gt;= 1.2)\n3\n\n\nfile LICENSE\n11\n\n\nFreeBSD\n10\n\n\nFreeBSD | file LICENSE\n2\n\n\nGNU General Public License\n26\n\n\nGNU General Public License (&gt;= 3)\n6\n\n\nGNU General Public License version 2\n5\n\n\nGNU General Public License version 3\n3\n\n\nGPL\n450\n\n\nGPL-2\n2400\n\n\nGPL-2 | file LICENCE\n2\n\n\nGPL-2 | file LICENSE\n47\n\n\nGPL-2 | GPL-3\n341\n\n\nGPL-2 | GPL-3 | file LICENSE\n3\n\n\nGPL-3\n4982\n\n\nGPL-3 | file LICENSE\n134\n\n\nGPL-3 + file LICENSE\n19\n\n\nGPL (== 3.0)\n3\n\n\nGPL (&gt; 2)\n10\n\n\nGPL (&gt; 3)\n2\n\n\nGPL (&gt;= 2)\n4312\n\n\nGPL (&gt;= 2) | file LICENCE\n9\n\n\nGPL (&gt;= 2) | file LICENSE\n47\n\n\nGPL (&gt;= 2) | LGPL (&gt;= 2)\n2\n\n\nGPL (&gt;= 2.0)\n107\n\n\nGPL (&gt;= 2.0) | file LICENSE\n3\n\n\nGPL (&gt;= 2.1)\n3\n\n\nGPL (&gt;= 3)\n2133\n\n\nGPL (&gt;= 3) | file LICENCE\n5\n\n\nGPL (&gt;= 3) | file LICENSE\n30\n\n\nGPL (&gt;= 3.0)\n43\n\n\nGPL (&gt;= 3.5.0)\n3\n\n\nLGPL\n46\n\n\nLGPL-2\n16\n\n\nLGPL-2 | BSD_3_clause + file LICENSE\n2\n\n\nLGPL-2 | LGPL-3 | GPL-2 | GPL-3\n6\n\n\nLGPL-2.1\n27\n\n\nLGPL-2.1 | file LICENSE\n2\n\n\nLGPL-3\n185\n\n\nLGPL-3 | Apache License 2.0\n5\n\n\nLGPL-3 | file LICENSE\n5\n\n\nLGPL (&gt;= 2)\n25\n\n\nLGPL (&gt;= 2.0)\n4\n\n\nLGPL (&gt;= 2.0, &lt; 3)\n2\n\n\nLGPL (&gt;= 2.1)\n59\n\n\nLGPL (&gt;= 3)\n70\n\n\nLGPL (&gt;= 3) | file LICENSE\n3\n\n\nMIT + file LICENCE\n22\n\n\nMIT + file LICENSE\n5127\n\n\nMIT + file LICENSE | Apache License 2.0\n6\n\n\nMIT License + file LICENSE\n6\n\n\nMozilla Public License 2.0\n7\n\n\nMozilla Public License Version 2.0\n2\n\n\nMPL-2.0\n16\n\n\nMPL-2.0 | file LICENSE\n7\n\n\nMPL (&gt;= 2.0)\n2\n\n\nUnlimited\n51\n\n\nUnlimited | file LICENSE\n2"
  },
  {
    "objectID": "posts/20250123-4_pkg_licenses/index.html#types-de-licences-utilisées",
    "href": "posts/20250123-4_pkg_licenses/index.html#types-de-licences-utilisées",
    "title": "Les licences associées aux paquets du dépôt CRAN",
    "section": "",
    "text": "Code\nlibrary(tools)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(gt)\n\n\n\n\n\npdb &lt;- tools::CRAN_package_db()\n\nLes tableaux ci-dessous devront être transformés pour présenter de manière simplifiée les licences principales utilisées.\n\n\nCode\ntable_licenses &lt;- table(pdb$License)\ntbl_licenses   &lt;- table_licenses |&gt; \n  as.matrix() |&gt; \n  as_tibble() |&gt; \n  dplyr::mutate(license = dimnames(table_licenses)[[1]]) |&gt; \n  rename(\"Nom licence\" = license,\n          occurrences = V1,\n        ) |&gt; \n  dplyr::relocate(\"Nom licence\")\n\n\n\n\n\n\n#|label: orphan_licenses\n\ntbl_orphan_licenses &lt;- tbl_licenses |&gt; \n    dplyr::filter(occurrences == 1) |&gt; \n    left_join(pdb, join_by(\"Nom licence\" == License)) |&gt; \n    select(Package, \"Nom licence\")\n\ngt_orphan_licenses &lt;- gt(tbl_orphan_licenses) |&gt; \n  tab_header(\n    title    = md(\"**Licences orphelines**\"),\n    subtitle = md(\"(occurrence de licence égale à 1 pour un paquet donné)\")\n  ) \n\ngt_orphan_licenses\n\n\n\n\n\n\n\nLicences orphelines\n\n\n(occurrence de licence égale à 1 pour un paquet donné)\n\n\nPackage\nNom licence\n\n\n\n\nQDiabetes\nAGPL-3 + file LICENSE\n\n\nround\nAGPL (&gt;= 3) | file LICENSE\n\n\nEGAnet\nAGPL (&gt;= 3.0)\n\n\ntidywater\nApache License (&gt;= 2) | MIT + file LICENSE\n\n\nAutoDeskR\nApache License | file LICENSE\n\n\nrtson\nApache License Version 2.0\n\n\ntmle\nBSD_3_clause + file LICENSE | GPL-2\n\n\ninstall.load\nCC BY-SA 4.0 | GPL-3 | file LICENSE\n\n\ngmGeostats\nCC BY-SA 4.0 | GPL (&gt;= 2)\n\n\nigraphdata\nCC BY-SA 4.0 + file LICENSE\n\n\nSCGLR\nCeCILL-2 | GPL-2\n\n\nvigicaen\nCeCILL-2.1\n\n\nrunMCMCbtadjust\nCECILL-2.1\n\n\nAMAPVox\nCeCILL (&gt;= 2)\n\n\nRcsdp\nCPL-1.0\n\n\ntest2norm\nCPL (&gt;= 2)\n\n\nei.Datasets\nEPL | CC BY 4.0 | file LICENSE\n\n\nlphom\nEPL | file LICENSE\n\n\nflagr\nEUPL-1.1\n\n\nhdar\nEUPL (&gt;= 1.2) | file LICENSE\n\n\nvardpoor\nEUPL | file LICENSE\n\n\nfontBitstreamVera\nfile LICENCE\n\n\nfastcluster\nFreeBSD | GPL-2 | file LICENSE\n\n\nvisvow\nGNU General Public License (&gt;= 2)\n\n\nNIPTeR\nGNU Lesser General Public License\n\n\nblender\nGPL-2 | Artistic-2.0\n\n\nRefManageR\nGPL-2 | GPL-3 | BSD_3_clause + file LICENSE\n\n\nrspm\nGPL-2 | GPL-3 | MIT + file LICENSE\n\n\ndmm\nGPL-2 | GPL (&gt;= 2) | GPL-3\n\n\nhunspell\nGPL-2 | LGPL-2.1 | MPL-1.1\n\n\nmidasr\nGPL-2 | MIT + file LICENCE\n\n\nsf\nGPL-2 | MIT + file LICENSE\n\n\nmapscanner\nGPL-3 | BSD_2_clause + file LICENSE\n\n\nconvergEU\nGPL-3 | BSD_3_clause + file LICENSE\n\n\neyelinker\nGPL-3 | file LICENCE\n\n\nmagree\nGPL-3 | GPL-2\n\n\nrxylib\nGPL-3 | LGPL-2.1\n\n\nconf\nGPL (&lt;= 2)\n\n\nminiGUI\nGPL (&lt;= 2.0)\n\n\nrjags\nGPL (== 2)\n\n\nPade\nGPL (&gt;= 2) | BSD_2_clause + file LICENSE\n\n\nsoilhypfit\nGPL (&gt;= 2) | LGPL-3\n\n\nmedfate\nGPL (&gt;= 2) | LGPL (&gt;= 3)\n\n\nRCriteo\nGPL (&gt;= 2) | MIT + file LICENSE\n\n\nmeteo\nGPL (&gt;= 2.0) | file LICENCE\n\n\nMAT\nGPL (&gt;= 2.10)\n\n\nTrialSize\nGPL (&gt;= 2.15.1)\n\n\nRM.weights\nGPL (&gt;= 3.0.0)\n\n\nconcatenate\nGPL (&gt;= 3.2)\n\n\ngMOIP\nGPL (&gt;= 3.3.2)\n\n\nseqminer\nGPL | file LICENSE\n\n\nsynchronicity\nLGPL-2 | Apache License 2.0\n\n\nbsts\nLGPL-2.1 | MIT + file LICENSE\n\n\ntcltk2\nLGPL-3 + file LICENSE\n\n\nRSNNS\nLGPL (&gt;= 2) | file LICENSE\n\n\nShortForm\nLGPL (&gt;= 2.0, &lt; 3) | Mozilla Public License\n\n\nmapproj\nLucent Public License\n\n\nlabeling\nMIT + file LICENSE | Unlimited\n\n\nRH2\nMozilla Public License 1.1\n\n\nASGS.foyer\nMPL\n\n\nvenneuler\nMPL-1.1\n\n\nsparseHessianFD\nMPL (== 2.0)\n\n\nRSpectra\nMPL (&gt;= 2)\n\n\nFIT\nMPL (&gt;= 2) | file LICENSE\n\n\nRborist\nMPL (&gt;= 2) | GPL (&gt;= 2) | file LICENSE\n\n\n\n\n\n\n\n\n\n\n\n#|label: other_licenses\n\ntbl_other_licenses &lt;- tbl_licenses |&gt; \n  filter(occurrences &gt; 1)\n\ngt_other_licenses &lt;- gt(tbl_other_licenses) |&gt; \n  tab_header(\n    title    = md(\"**Licences non orphelines**\"),\n    subtitle = md(\"(occurrences de licence supérieure à 1 pour un paquet donné)\")\n  ) \n\ngt_other_licenses\n\n\n\n\n\n\n\nLicences non orphelines\n\n\n(occurrences de licence supérieure à 1 pour un paquet donné)\n\n\nNom licence\noccurrences\n\n\n\n\nACM | file LICENSE\n2\n\n\nAGPL\n7\n\n\nAGPL-3\n126\n\n\nAGPL-3 | file LICENSE\n13\n\n\nAGPL (&gt;= 3)\n63\n\n\nAGPL + file LICENSE\n2\n\n\nApache License\n21\n\n\nApache License (== 2)\n6\n\n\nApache License (== 2.0)\n66\n\n\nApache License (== 2.0) | file LICENSE\n12\n\n\nApache License (&gt;= 2)\n158\n\n\nApache License (&gt;= 2.0)\n56\n\n\nApache License 2.0\n145\n\n\nApache License 2.0 | file LICENSE\n31\n\n\nArtistic-2.0\n106\n\n\nArtistic License 2.0\n6\n\n\nBSD 2-clause License + file LICENSE\n12\n\n\nBSD 3-clause License + file LICENSE\n3\n\n\nBSD_2_clause + file LICENCE\n3\n\n\nBSD_2_clause + file LICENSE\n110\n\n\nBSD_3_clause + file LICENCE\n6\n\n\nBSD_3_clause + file LICENSE\n138\n\n\nBSD_3_clause + file LICENSE | GPL (&gt;= 2)\n5\n\n\nBSL\n2\n\n\nBSL-1.0\n7\n\n\nCC BY-NC-SA 4.0\n15\n\n\nCC BY-NC 4.0\n4\n\n\nCC BY-SA 4.0\n25\n\n\nCC BY 4.0\n83\n\n\nCC0\n242\n\n\nCC0 | file LICENSE\n2\n\n\nCeCILL\n8\n\n\nCeCILL-2\n12\n\n\nCeCILL-2 | file LICENSE\n2\n\n\nCommon Public License Version 1.0\n2\n\n\nCreative Commons Attribution 4.0 International License\n2\n\n\nEPL\n4\n\n\nEUPL\n32\n\n\nEUPL (&gt;= 1.1)\n2\n\n\nEUPL (&gt;= 1.2)\n3\n\n\nfile LICENSE\n11\n\n\nFreeBSD\n10\n\n\nFreeBSD | file LICENSE\n2\n\n\nGNU General Public License\n26\n\n\nGNU General Public License (&gt;= 3)\n6\n\n\nGNU General Public License version 2\n5\n\n\nGNU General Public License version 3\n3\n\n\nGPL\n450\n\n\nGPL-2\n2400\n\n\nGPL-2 | file LICENCE\n2\n\n\nGPL-2 | file LICENSE\n47\n\n\nGPL-2 | GPL-3\n341\n\n\nGPL-2 | GPL-3 | file LICENSE\n3\n\n\nGPL-3\n4982\n\n\nGPL-3 | file LICENSE\n134\n\n\nGPL-3 + file LICENSE\n19\n\n\nGPL (== 3.0)\n3\n\n\nGPL (&gt; 2)\n10\n\n\nGPL (&gt; 3)\n2\n\n\nGPL (&gt;= 2)\n4312\n\n\nGPL (&gt;= 2) | file LICENCE\n9\n\n\nGPL (&gt;= 2) | file LICENSE\n47\n\n\nGPL (&gt;= 2) | LGPL (&gt;= 2)\n2\n\n\nGPL (&gt;= 2.0)\n107\n\n\nGPL (&gt;= 2.0) | file LICENSE\n3\n\n\nGPL (&gt;= 2.1)\n3\n\n\nGPL (&gt;= 3)\n2133\n\n\nGPL (&gt;= 3) | file LICENCE\n5\n\n\nGPL (&gt;= 3) | file LICENSE\n30\n\n\nGPL (&gt;= 3.0)\n43\n\n\nGPL (&gt;= 3.5.0)\n3\n\n\nLGPL\n46\n\n\nLGPL-2\n16\n\n\nLGPL-2 | BSD_3_clause + file LICENSE\n2\n\n\nLGPL-2 | LGPL-3 | GPL-2 | GPL-3\n6\n\n\nLGPL-2.1\n27\n\n\nLGPL-2.1 | file LICENSE\n2\n\n\nLGPL-3\n185\n\n\nLGPL-3 | Apache License 2.0\n5\n\n\nLGPL-3 | file LICENSE\n5\n\n\nLGPL (&gt;= 2)\n25\n\n\nLGPL (&gt;= 2.0)\n4\n\n\nLGPL (&gt;= 2.0, &lt; 3)\n2\n\n\nLGPL (&gt;= 2.1)\n59\n\n\nLGPL (&gt;= 3)\n70\n\n\nLGPL (&gt;= 3) | file LICENSE\n3\n\n\nMIT + file LICENCE\n22\n\n\nMIT + file LICENSE\n5127\n\n\nMIT + file LICENSE | Apache License 2.0\n6\n\n\nMIT License + file LICENSE\n6\n\n\nMozilla Public License 2.0\n7\n\n\nMozilla Public License Version 2.0\n2\n\n\nMPL-2.0\n16\n\n\nMPL-2.0 | file LICENSE\n7\n\n\nMPL (&gt;= 2.0)\n2\n\n\nUnlimited\n51\n\n\nUnlimited | file LICENSE\n2"
  },
  {
    "objectID": "posts/20250118-2_last_pkg/index.html",
    "href": "posts/20250118-2_last_pkg/index.html",
    "title": "Derniers paquets publiés sur le dépôt CRAN",
    "section": "",
    "text": "Code\nlibrary(purrr)\nlibrary(tools)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(lubridate)\nlibrary(gt)\nlibrary(DT)\nlibrary(glue)\nlibrary(RPostgres)"
  },
  {
    "objectID": "posts/20250118-2_last_pkg/index.html#récupération-des-données-packages-du-cran",
    "href": "posts/20250118-2_last_pkg/index.html#récupération-des-données-packages-du-cran",
    "title": "Derniers paquets publiés sur le dépôt CRAN",
    "section": "1 Récupération des données packages du CRAN",
    "text": "1 Récupération des données packages du CRAN\n\npdb &lt;- tools::CRAN_package_db()\n\nlien_pkg &lt;- function(pkg, type = \"html\")  {\n                          \n  cran_repo &lt;- \"https://cran.r-project.org/web/packages/\" \n  lien &lt;- paste0(cran_repo, pkg)\n  if (type == \"html\")     { return(glue::glue('&lt;a href=\"{lien}\"&gt;{pkg}&lt;/a&gt;')) }\n  if (type == \"markdown\") { return(glue::glue(\"[{pkg}]({lien})\")) }\n  \n}"
  },
  {
    "objectID": "posts/20250118-2_last_pkg/index.html#récupération-des-derniers-paquets-publiés",
    "href": "posts/20250118-2_last_pkg/index.html#récupération-des-derniers-paquets-publiés",
    "title": "Derniers paquets publiés sur le dépôt CRAN",
    "section": "2 Récupération des derniers paquets publiés",
    "text": "2 Récupération des derniers paquets publiés\nOn se base sur la date de publication issue du timestamp provenant du champ Date\\Publication\n\n\n\n\n\n\nNote\n\n\n\n\n\nL’utilisation de la fonction distinct pour créer le data.frame last_pkg_published permet d’éliminer les doublons.\nEn effet la publication du paquet MASS en version 7.3-65 le 28 février 2025 est reproduite à l’identique pour des versions de R différentes (colonne Depends)\n\nR (&gt;= 4.4.0), grDevices, graphics, stats, utils\nR (&gt;= 4.5), grDevices, graphics, stats, utils\n\nSi l’élimination des doublons n’est pas effectuée avant intégration dans la base PostgreSQL, alors la contrainte d’unicité unique (paquet, version) est rompue, et le script est interrompu.\n\nError: ! COPY returned error : ERREUR: la valeur d’une clé dupliquée rompt la contrainte unique « paquets_paquet_version_key » DETAIL: La clé « (paquet, version)=(MASS, 7.3-65) » existe déjà.\n\n\n\n\n\n\nCode\nlast_pkg_published &lt;- pdb |&gt; \n  select(Package, Version, `Date/Publication`) |&gt; \n  filter(\n    date(ymd_hms(`Date/Publication`)) == (Sys.Date() - 1)\n  ) |&gt; \n  arrange(desc(`Date/Publication`), Package, Version) |&gt;\n  rename(\n    paquet = Package,\n    version = Version,\n    date_publication = `Date/Publication`\n  ) |&gt; \n  distinct(.keep_all = TRUE)\n\nlast_pkg_published_DT &lt;- last_pkg_published |&gt; \n  mutate(paquet = lien_pkg(paquet))\n\nlast_pkg_published_DT |&gt; \n  datatable(\n    escape = FALSE,\n    rownames = FALSE,\n    class = 'cell-border stripe hover compact',\n    extensions = 'Buttons', \n    options = list(\n      pageLength = 20,\n      initComplete = JS(\n        \"function(settings, json) {\",\n        \"$(this.api().table().header()).css({'background-color': '#000', 'color': '#fff'});\",\n        \"}\"),\n      dom = 'Bfrtip',\n      buttons = c('copy', 'csv', 'excel', 'pdf')\n    ),\n    caption = htmltools::tags$caption(\n      style = 'caption-side: bottom; text-align: center;',\n      'Table 1: ',\n      htmltools::strong('Liste des derniers paquets publiés (',\n                        nrow(last_pkg_published),\n                        ' paquets).'\n                        )\n    )\n  )"
  },
  {
    "objectID": "posts/20250118-2_last_pkg/index.html#sauvegarde-des-derniers-paquets-publiés",
    "href": "posts/20250118-2_last_pkg/index.html#sauvegarde-des-derniers-paquets-publiés",
    "title": "Derniers paquets publiés sur le dépôt CRAN",
    "section": "3 Sauvegarde des derniers paquets publiés",
    "text": "3 Sauvegarde des derniers paquets publiés\n\n3.1 Etablissement de la connexion postgresql\n\n\nCode\nDB_HOSTNAME &lt;- Sys.getenv(\"DB_HOSTNAME\")\nDB_USER &lt;- Sys.getenv(\"DB_USER\")\nDB_PASSWORD &lt;- Sys.getenv(\"DB_PASSWORD\")\nDB_PORT &lt;- Sys.getenv(\"DB_PORT\")\nDB_NAME &lt;- Sys.getenv(\"DB_NAME\")\n\nconn &lt;- RPostgres::dbConnect(\n  drv = RPostgres::Postgres(), \n  dbname = DB_NAME,\n  host = DB_HOSTNAME,\n  port = DB_PORT,\n  user = DB_USER,\n  password = DB_PASSWORD\n)\n\n\n\n\n3.2 Bascule sur le schéma dev par défaut\n\n\nCode\nquery &lt;- paste(\n  \"ALTER DATABASE\",\n  DB_NAME,\n  \"SET SEARCH_PATH TO dev;\"\n)\nRPostgres::dbSendQuery(\n  conn,\n  query\n)\n#&gt; &lt;PqResult&gt;\n#&gt;   SQL  ALTER DATABASE alcor SET SEARCH_PATH TO dev;\n#&gt;   ROWS Fetched: 0 [complete]\n#&gt;        Changed: 0\n\n\n\n\n3.3 Ajout des nouveaux paquets R à la table paquets\n\n\n\n\n\n\nNote\n\n\n\n\n\nLa table paquets a été créée en avance de phase avec les requêtes SQL :\nCREATE SCHEMA dev;\n\nCREATE TABLE dev.paquets(\n  id SERIAL PRIMARY KEY,\n  paquet VARCHAR(50) NOT NULL,\n  version VARCHAR(20) NOT NULL,\n  date_publication TIMESTAMP NOT NULL, \n  UNIQUE(paquet, version));\n\n\n\n\n\nCode\nrequest &lt;- \"SELECT date_publication::date\n            FROM dev.paquets\n            ORDER by date_publication::date DESC\n            LIMIT 1\";\n\ndate_veille &lt;- RPostgres::dbGetQuery(conn, statement = request) |&gt;  pull()\n#&gt; Warning: Closing open result set, cancelling previous query\n\ndiff_date &lt;- as.numeric(Sys.Date() - date_veille)\n\nif ((Sys.Date() - date_veille) &gt; 1) {\n  RPostgres::dbAppendTable(\n    conn = conn, \n    name = Id(schema = 'dev', table = 'paquets'), \n    value = last_pkg_published\n  )\n}\n#&gt; [1] 65\n\n\n\n\n3.4 Vérification des ajouts d’information dans la table paquets\n\n\nCode\nrequest &lt;- \"SELECT COUNT(DISTINCT paquet) AS total_paquets\n            FROM dev.paquets\";\n\ntotal_paquets &lt;- RPostgres::dbGetQuery(conn, statement = request)$total_paquets\n\nrequest &lt;- \"SELECT MAX(date_publication::date) -\n                   MIN(date_publication::date) + \n                   1 AS duree\n           FROM dev.paquets;\"\n\nduree &lt;- RPostgres::dbGetQuery(conn, statement = request)$duree\n\nrequest &lt;- \"SELECT date_publication::date, count(paquet) AS nb_paquets,\n            SUM(COUNT(paquet)) OVER (ORDER BY date_publication::date) AS cumul\n            FROM dev.paquets\n            GROUP BY date_publication::date;\"\n\nresult &lt;- RPostgres::dbGetQuery(conn, statement = request)\n\nresult |&gt; \n  datatable(\n    escape = FALSE,\n    rownames = FALSE,\n    class = 'cell-border stripe hover compact',\n    extensions = 'Buttons', \n    options = list(\n      pageLength = 20,\n      ordering = FALSE,\n      initComplete = JS(\n        \"function(settings, json) {\",\n        \"$(this.api().table().header()).css({'background-color': '#000', 'color': '#fff'});\",\n        \"}\"),\n      dom = 'Brtip',\n      buttons = c('copy', 'csv', 'excel', 'pdf')\n    ),\n    caption = htmltools::tags$caption(\n      style = 'caption-side: bottom; text-align: center;',\n      'Table 2: ', \n      htmltools::strong('Total des versions de paquets sur', \n                        duree, \n                        'jours (',\n                        total_paquets,\n                        ' paquets versionnés).'\n                       )\n    )\n  )\n\n\n\n\n\n\n\n\n3.5 Sélection des paquets ayant été versionné plus d’une fois depuis\n\n\nCode\nrequest &lt;- \"SELECT MIN(date_publication)::date AS date_min\n            FROM dev.paquets;\"\n\ndate_min &lt;- RPostgres::dbGetQuery(conn, statement = request)$date_min\n\nrequest &lt;- \"SELECT paquet, version, date_publication, \n           RANK() OVER(PARTITION BY paquet ORDER BY version) AS revision \n           FROM dev.paquets \n           WHERE paquet IN (\n               SELECT paquet \n               FROM (\n                   SELECT COUNT(*), paquet \n                   FROM dev.paquets \n                   GROUP by paquet \n               HAVING COUNT(*) &gt; 1\n               )\n           );\"\n\nresult &lt;- RPostgres::dbGetQuery(conn, statement = request)\n\nresult |&gt; \n  datatable(\n    escape = FALSE,\n    rownames = FALSE,\n    class = 'cell-border stripe hover compact',\n    extensions = 'Buttons', \n    options = list(\n      pageLength = 20,\n      initComplete = JS(\n        \"function(settings, json) {\",\n        \"$(this.api().table().header()).css({'background-color': '#000', 'color': '#fff'});\",\n        \"}\"),\n      dom = 'Bfrtip',\n      buttons = c('copy', 'csv', 'excel', 'pdf')\n    ),\n    caption = htmltools::tags$caption(\n      style = 'caption-side: bottom; text-align: center;',\n      'Table 3: ', \n      htmltools::strong(\"Paquets versionnés plus d'une fois depuis le \", \n                        as.Date(date_min),\n                        '.'\n                       )\n    )\n  )\n\n\n\n\n\n\n\n\n3.6 Affichage des paquets déjà enregistrés avec leur lien CRAN\n\n\nCode\nrequest &lt;- \"SELECT MIN(date_publication)::date AS date_min\n            FROM dev.paquets;\"\n\ndate_min &lt;- RPostgres::dbGetQuery(conn, statement = request)$date_min\n\nrequest &lt;- \"SELECT ROW_NUMBER() OVER(ORDER BY paquet) AS rang, paquet, version\n            FROM (\n                SELECT DISTINCT ON (paquet) dev.paquets.*\n                FROM dev.paquets\n                ORDER BY paquet, version DESC\n                );\"\n\nresult &lt;- RPostgres::dbGetQuery(conn, statement = request)\n\nresult |&gt; \n  mutate(paquet = lien_pkg(paquet)) |&gt; \n  datatable(\n    escape = FALSE,\n    rownames = FALSE,\n    class = 'cell-border stripe hover compact',\n    extensions = 'Buttons', \n    options = list(\n      pageLength = 25,\n      ordering = FALSE,\n      initComplete = JS(\n        \"function(settings, json) {\",\n        \"$(this.api().table().header()).css({'background-color': '#000', 'color': '#fff'});\",\n        \"}\"),\n      dom = 'Bfrtip',\n      buttons = c('copy', 'csv', 'excel', 'pdf')\n    ),\n    caption = htmltools::tags$caption(\n      style = 'caption-side: bottom; text-align: center;',\n      'Table 4: ', \n      htmltools::strong(\"Paquets versionnés depuis le \", \n                        as.Date(date_min),\n                        ' (',\n                        total_paquets,\n                        ' paquets).'\n                       )\n    )\n  )\n\n\n\n\n\n\n\n\nCode\n# dernière version de chaque paquet enregistré dans la base\nrequest &lt;- \"WITH rankedpackages AS (\n                SELECT\n                  paquet,\n                  version,\n                  ROW_NUMBER() OVER (\n                    PARTITION BY paquet ORDER BY version DESC\n                    ) AS row_num\n                FROM dev.paquets\n            )\n            SELECT paquet, version\n            FROM rankedpackages\n            WHERE row_num = 1;\"\n\nresult &lt;- RPostgres::dbGetQuery(conn, statement = request)\n\ntab &lt;- result |&gt; \n  gt() |&gt; \n  tab_header(\n    title    = md(\"**Dernières versions des paquets enregistrés**\"),\n    subtitle = md(paste0(\"(depuis le \", as.Date(date_min), \")\"))\n  ) \n\n\n\n\n3.7 Déconnexion\n\n\nCode\nRPostgres::dbDisconnect(conn)"
  },
  {
    "objectID": "posts/20241225_geo_square/index.html",
    "href": "posts/20241225_geo_square/index.html",
    "title": "Get geographic squares",
    "section": "",
    "text": "Code\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(s2)\nlibrary(microbenchmark)\nlibrary(profvis)\nlibrary(purrr)\n\n\n\n\n\n# fonction génératrice de \"carré géographique\" de `alpha` degrés de côté\n# le point de base (lon, lat) est le point inférieur gauche. \n\nget_geo_square &lt;- function(lon, lat, alpha) {\n  \n  points &lt;- list(\n    matrix(\n      c(lon, lat,\n        lon + alpha, lat,\n        lon + alpha, lat + alpha,\n        lon, lat + alpha,\n        lon, lat),\n      ncol = 2,\n      byrow = TRUE\n    )\n  )\n  st_polygon(points)\n  \n}\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nLa fonction renvoie un résultat si l’angle \\(\\alpha\\) vérifie la condition :\n\\[90^\\circ\\space\\bmod\\space\\alpha = 0\\]\n\n\n\n\n\n\n\nget_all_geo_squares_on_sphere &lt;- function(alpha) {\n  \n  if (90 %% alpha == 0) {\n    \n    lon &lt;- seq(-180, 180 - alpha, by = alpha)\n    lat &lt;- seq(-90, 90 - alpha, by = alpha)\n    geom &lt;- vector(\"list\", length = length(lon) * length(lat))\n    n &lt;- 0\n    for (x in lon) {\n      for (y in lat) {\n        n &lt;- n + 1\n        geom[[n]] &lt;- get_geo_square(x, y, alpha)\n      }\n    } \n    geom &lt;- geom |&gt; st_as_sfc(crs = st_crs(4326))\n    return(geom)\n  } else {\n    return(NULL)\n  }\n  \n}\n\n\n\n\n\n\nCode\nmicrobenchmark(\n  get_all_geo_squares_on_sphere(alpha = 1),\n  get_all_geo_squares_on_sphere(alpha = 10),\n  times = 10L\n) |&gt; \n  ggplot2::autoplot()\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeo_squares &lt;- get_all_geo_squares_on_sphere(alpha = 10)\n\ngeo_centroids &lt;- geo_squares |&gt; \n  st_centroid()\n\nggplot() +\n  geom_sf(data = geo_squares) +\n  geom_sf(data = geo_centroids, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n#--------------------------------------------------\n\ngeo_squares_moll &lt;- st_transform(\n  geo_squares,\n  crs = \"+proj=moll\"\n)\n\ngeo_centroids_moll &lt;- st_transform(\n  geo_centroids,\n  crs = \"+proj=moll\"\n)\n\nggplot() +\n  geom_sf(data = geo_squares_moll) +\n  geom_sf(data = geo_centroids_moll, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n\n\n\n\nget_s2_square &lt;- function(lon, lat, alpha) {\n  \n  points &lt;- matrix(\n      c(lon, lat,\n        lon + alpha, lat,\n        lon + alpha, lat + alpha,\n        lon, lat + alpha,\n        lon, lat),\n      ncol = 2,\n      byrow = TRUE\n    )\n  s2_make_polygon(points[, 1], points[, 2])\n  \n}\n\nfunction get_all_s2_squares_on_sphere\n\nget_all_s2_squares_on_sphere &lt;- function(alpha) {\n  \n  if (90 %% alpha == 0) {\n    \n    lon &lt;- seq(-180, 180 - alpha, by = alpha)\n    lat &lt;- seq(-90, 90 - alpha, by = alpha)\n    geom &lt;- vector(mode = \"list\", length = length(lon) * length(lat))\n    n &lt;- 0\n    for (x in lon) {\n      for (y in lat) {\n        n &lt;- n + 1\n        geom[[n]] &lt;- get_s2_square(x, y, alpha)\n      }\n    } \n    geom &lt;- geom |&gt; \n      map(st_as_sfc) |&gt; \n      unlist(recursive = FALSE) |&gt; \n      st_as_sfc(crs = st_crs(4326))\n    return(geom)\n  } else {\n    return(NULL)\n  }\n  \n}\n\n\n\n\n\n\nCode\nmicrobenchmark(\n  get_all_s2_squares_on_sphere(alpha = 30),\n  get_all_s2_squares_on_sphere(alpha = 10),\n  times = 100\n) |&gt; \n  ggplot2::autoplot()\n\n\n\n\n\n\n\n\n\n\n\n\n\nprofvis::profvis({\n  get_all_s2_squares_on_sphere(alpha = 10)\n}\n)\n\n\n\n\n\n\n\n\n\ns2_squares &lt;- get_all_s2_squares_on_sphere(alpha = 10)\n\ns2_centroids &lt;- s2_squares |&gt; \n  st_centroid()\n\nggplot(data = s2_squares) +\n  geom_sf() +\n  geom_sf(data = s2_centroids, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n#--------------------------------------------------\n\ns2_squares_moll &lt;- st_transform(\n  s2_squares,\n  crs = \"+proj=moll\"\n)\n\ns2_centroids_moll &lt;- st_transform(\n  s2_centroids,\n  crs = \"+proj=moll\"\n)\n\nggplot() +\n  geom_sf(data = s2_squares_moll) +\n  geom_sf(data = s2_centroids_moll, color = \"red\", cex = 0.5)"
  },
  {
    "objectID": "posts/20241225_geo_square/index.html#get-geographic-squares",
    "href": "posts/20241225_geo_square/index.html#get-geographic-squares",
    "title": "Get geographic squares",
    "section": "",
    "text": "Code\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(s2)\nlibrary(microbenchmark)\nlibrary(profvis)\nlibrary(purrr)\n\n\n\n\n\n# fonction génératrice de \"carré géographique\" de `alpha` degrés de côté\n# le point de base (lon, lat) est le point inférieur gauche. \n\nget_geo_square &lt;- function(lon, lat, alpha) {\n  \n  points &lt;- list(\n    matrix(\n      c(lon, lat,\n        lon + alpha, lat,\n        lon + alpha, lat + alpha,\n        lon, lat + alpha,\n        lon, lat),\n      ncol = 2,\n      byrow = TRUE\n    )\n  )\n  st_polygon(points)\n  \n}\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nLa fonction renvoie un résultat si l’angle \\(\\alpha\\) vérifie la condition :\n\\[90^\\circ\\space\\bmod\\space\\alpha = 0\\]\n\n\n\n\n\n\n\nget_all_geo_squares_on_sphere &lt;- function(alpha) {\n  \n  if (90 %% alpha == 0) {\n    \n    lon &lt;- seq(-180, 180 - alpha, by = alpha)\n    lat &lt;- seq(-90, 90 - alpha, by = alpha)\n    geom &lt;- vector(\"list\", length = length(lon) * length(lat))\n    n &lt;- 0\n    for (x in lon) {\n      for (y in lat) {\n        n &lt;- n + 1\n        geom[[n]] &lt;- get_geo_square(x, y, alpha)\n      }\n    } \n    geom &lt;- geom |&gt; st_as_sfc(crs = st_crs(4326))\n    return(geom)\n  } else {\n    return(NULL)\n  }\n  \n}\n\n\n\n\n\n\nCode\nmicrobenchmark(\n  get_all_geo_squares_on_sphere(alpha = 1),\n  get_all_geo_squares_on_sphere(alpha = 10),\n  times = 10L\n) |&gt; \n  ggplot2::autoplot()\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeo_squares &lt;- get_all_geo_squares_on_sphere(alpha = 10)\n\ngeo_centroids &lt;- geo_squares |&gt; \n  st_centroid()\n\nggplot() +\n  geom_sf(data = geo_squares) +\n  geom_sf(data = geo_centroids, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n#--------------------------------------------------\n\ngeo_squares_moll &lt;- st_transform(\n  geo_squares,\n  crs = \"+proj=moll\"\n)\n\ngeo_centroids_moll &lt;- st_transform(\n  geo_centroids,\n  crs = \"+proj=moll\"\n)\n\nggplot() +\n  geom_sf(data = geo_squares_moll) +\n  geom_sf(data = geo_centroids_moll, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n\n\n\n\nget_s2_square &lt;- function(lon, lat, alpha) {\n  \n  points &lt;- matrix(\n      c(lon, lat,\n        lon + alpha, lat,\n        lon + alpha, lat + alpha,\n        lon, lat + alpha,\n        lon, lat),\n      ncol = 2,\n      byrow = TRUE\n    )\n  s2_make_polygon(points[, 1], points[, 2])\n  \n}\n\nfunction get_all_s2_squares_on_sphere\n\nget_all_s2_squares_on_sphere &lt;- function(alpha) {\n  \n  if (90 %% alpha == 0) {\n    \n    lon &lt;- seq(-180, 180 - alpha, by = alpha)\n    lat &lt;- seq(-90, 90 - alpha, by = alpha)\n    geom &lt;- vector(mode = \"list\", length = length(lon) * length(lat))\n    n &lt;- 0\n    for (x in lon) {\n      for (y in lat) {\n        n &lt;- n + 1\n        geom[[n]] &lt;- get_s2_square(x, y, alpha)\n      }\n    } \n    geom &lt;- geom |&gt; \n      map(st_as_sfc) |&gt; \n      unlist(recursive = FALSE) |&gt; \n      st_as_sfc(crs = st_crs(4326))\n    return(geom)\n  } else {\n    return(NULL)\n  }\n  \n}\n\n\n\n\n\n\nCode\nmicrobenchmark(\n  get_all_s2_squares_on_sphere(alpha = 30),\n  get_all_s2_squares_on_sphere(alpha = 10),\n  times = 100\n) |&gt; \n  ggplot2::autoplot()\n\n\n\n\n\n\n\n\n\n\n\n\n\nprofvis::profvis({\n  get_all_s2_squares_on_sphere(alpha = 10)\n}\n)\n\n\n\n\n\n\n\n\n\ns2_squares &lt;- get_all_s2_squares_on_sphere(alpha = 10)\n\ns2_centroids &lt;- s2_squares |&gt; \n  st_centroid()\n\nggplot(data = s2_squares) +\n  geom_sf() +\n  geom_sf(data = s2_centroids, color = \"red\", cex = 0.5)\n\n\n\n\n\n\n\n\n#--------------------------------------------------\n\ns2_squares_moll &lt;- st_transform(\n  s2_squares,\n  crs = \"+proj=moll\"\n)\n\ns2_centroids_moll &lt;- st_transform(\n  s2_centroids,\n  crs = \"+proj=moll\"\n)\n\nggplot() +\n  geom_sf(data = s2_squares_moll) +\n  geom_sf(data = s2_centroids_moll, color = \"red\", cex = 0.5)"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "pkgnet package\n\n\n\nnews\n\ncode\n\nanalysis\n\n\n\n\n\n\n\n\n\nsamedi, 1er février 2025\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nLes licences associées aux paquets du dépôt CRAN\n\n\n\ncode\n\nanalysis\n\nCRAN\n\n\n\nExploitation des données du champ License\n\n\n\n\n\njeudi, 23 janvier 2025\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nRécupération de données de messagerie à partir du dépôt CRAN\n\n\n\ncode\n\nanalysis\n\nCRAN\n\n\n\nExtraction des adresses de messagerie du champ Authors@R\n\n\n\n\n\ndimanche, 19 janvier 2025\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nDerniers paquets publiés sur le dépôt CRAN\n\n\n\ncode\n\nanalysis\n\nCRAN\n\n\n\nDonnées relatives aux paquets publiés la veille\n\n\n\n\n\nsamedi, 18 janvier 2025\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nLe dépôt CRAN (Comprehensive R Archive Network)\n\n\n\ncode\n\nanalysis\n\nCRAN\n\n\n\nDescription générale de la base de données des paquets CRAN\n\n\n\n\n\nmardi, 7 janvier 2025\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nGet geographic squares\n\n\n\nnews\n\ncode\n\nanalysis\n\n\n\nSection en travaux\n\n\n\n\n\nmercredi, 25 décembre 2024\n\n\nAlcor\n\n\n\n\n\n\n\n\n\n\n\n\nBienvenue\n\n\n\nnews\n\n\n\n\n\n\n\n\n\nlundi, 23 décembre 2024\n\n\nAlcor\n\n\n\n\n\nAucun article correspondant\n Retour au sommet"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Quarto à l’essai",
    "section": "",
    "text": "Un bac à sable de plus … :)\n\n\n Retour au sommet"
  },
  {
    "objectID": "posts/20250107-1_pkg_info/index.html",
    "href": "posts/20250107-1_pkg_info/index.html",
    "title": "Le dépôt CRAN (Comprehensive R Archive Network)",
    "section": "",
    "text": "Code\nlibrary(purrr)\nlibrary(tools)\nlibrary(lobstr)\nlibrary(rvest)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(stringi)\nlibrary(gt)\nlibrary(glue)\n\n\n\n\n\nget_tbl_pkg_rvest &lt;- function() {\n  \n  url_repo &lt;- \"https://cloud.r-project.org/src/contrib/\"\n\n  links &lt;- read_html(url_repo) |&gt; \n    html_elements(\"a\") |&gt; \n    html_attr(\"href\")\n  \n  tbl_pkg_rvest &lt;- links[grep(\"[.]tar[.]gz$\", links)] |&gt; \n    gsub(pattern = \".tar.gz\", replacement = \"\") |&gt; \n    strsplit(split = \"_\") |&gt; \n    unlist() |&gt; \n    matrix(ncol = 2, \n           byrow = TRUE, \n           dimnames = list(NULL, c(\"Package\", \"Version\"))\n           ) |&gt; \n    as_tibble()\n  \n  return(tbl_pkg_rvest)\n\n}\n\ntbl_pkg_rvest &lt;- get_tbl_pkg_rvest()\n\n\n\n\n\ntbl_pkg &lt;- utils::available.packages() |&gt; as_tibble()\n\n\n\n\n\npdb &lt;- tools::CRAN_package_db()"
  },
  {
    "objectID": "posts/20250107-1_pkg_info/index.html#obtention-des-données-sur-les-paquets",
    "href": "posts/20250107-1_pkg_info/index.html#obtention-des-données-sur-les-paquets",
    "title": "Le dépôt CRAN (Comprehensive R Archive Network)",
    "section": "",
    "text": "Code\nlibrary(purrr)\nlibrary(tools)\nlibrary(lobstr)\nlibrary(rvest)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(stringi)\nlibrary(gt)\nlibrary(glue)\n\n\n\n\n\nget_tbl_pkg_rvest &lt;- function() {\n  \n  url_repo &lt;- \"https://cloud.r-project.org/src/contrib/\"\n\n  links &lt;- read_html(url_repo) |&gt; \n    html_elements(\"a\") |&gt; \n    html_attr(\"href\")\n  \n  tbl_pkg_rvest &lt;- links[grep(\"[.]tar[.]gz$\", links)] |&gt; \n    gsub(pattern = \".tar.gz\", replacement = \"\") |&gt; \n    strsplit(split = \"_\") |&gt; \n    unlist() |&gt; \n    matrix(ncol = 2, \n           byrow = TRUE, \n           dimnames = list(NULL, c(\"Package\", \"Version\"))\n           ) |&gt; \n    as_tibble()\n  \n  return(tbl_pkg_rvest)\n\n}\n\ntbl_pkg_rvest &lt;- get_tbl_pkg_rvest()\n\n\n\n\n\ntbl_pkg &lt;- utils::available.packages() |&gt; as_tibble()\n\n\n\n\n\npdb &lt;- tools::CRAN_package_db()"
  },
  {
    "objectID": "posts/20250107-1_pkg_info/index.html#comparaisons-du-nombre-dinformations-entre-les-3-bases",
    "href": "posts/20250107-1_pkg_info/index.html#comparaisons-du-nombre-dinformations-entre-les-3-bases",
    "title": "Le dépôt CRAN (Comprehensive R Archive Network)",
    "section": "2 Comparaisons du nombre d’informations entre les 3 bases",
    "text": "2 Comparaisons du nombre d’informations entre les 3 bases\n\n2.1 Tableau récapitulatif\n\n\nCode\ntbl_summary &lt;- tibble(\n  `Méthode` = c(\"utils::available.packages\",\n                \"tools::CRAN_package_db\",\n                \"rvest (webscraping)\"),\n  `Quantité` = c(length(unique(tbl_pkg$Package)), \n                 length(unique(pdb$Package)),\n                 length(unique(tbl_pkg_rvest$Package))),\n  `Nombre de champs` = c(ncol(tbl_pkg), ncol(pdb), ncol(tbl_pkg_rvest)), \n  Taille = c(obj_size(tbl_pkg), \n             obj_size(pdb),\n             obj_size(tbl_pkg_rvest)))\n\ngt_summary &lt;- gt(tbl_summary) |&gt; \n  tab_header(\n    title    = md(\"**Paquets R distincts (nom unique) recensés**\"),\n    subtitle = md(paste(\"(en date du\", Sys.Date(), \")\"))\n  ) |&gt; \n  tab_footnote(\n    footnote  = md(\"Mesure estimée avec la commande `obj_size`\"),\n    locations = cells_column_labels(\n      columns   = Taille\n    )\n  ) \n  \ngt_summary\n\n\n\n\n\n\n\n\nPaquets R distincts (nom unique) recensés\n\n\n(en date du 2025-05-28 )\n\n\nMéthode\nQuantité\nNombre de champs\nTaille1\n\n\n\n\nutils::available.packages\n22423\n17\n10.39 MB\n\n\ntools::CRAN_package_db\n22452\n69\n55.73 MB\n\n\nrvest (webscraping)\n22452\n2\n1.86 MB\n\n\n\n1 Mesure estimée avec la commande obj_size\n\n\n\n\n\n\n\n\n\n\n2.2 Paquets communs pour les 3 sources de données\n\n\nCode\ne1 &lt;- unique(tbl_pkg_rvest$Package)\ne2 &lt;- unique(tbl_pkg$Package)\ne3 &lt;- unique(pdb$Package)\n\nsimilar_pkgs &lt;- intersect(intersect(e1, e2), e3)\n\ndissimilar_tbl_pkg_rvest &lt;- e1[!e1 %in% similar_pkgs]\ndissimilar_tbl_pkg       &lt;- e2[!e2 %in% similar_pkgs]\ndissimilar_pdb           &lt;- e3[!e3 %in% similar_pkgs]\n\nidentical(dissimilar_tbl_pkg_rvest, dissimilar_pdb)\n#&gt; [1] TRUE\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\n\nNous avons 22423 paquets en commun\nTous les paquets du tibble tbl_pkg sont présents dans le data.frame pdb et le tibble tbl_pkg_rvestpuisque :\n\nlength(dissimilar_tbl_pkg) == 0\n\n\n\n\n\n\n\n2.3 Paquets en plus dans pdb et tbl_pkg_rvest (par rapport à tbl_pkg)\n\n\nCode\ndissimilar_pkgs &lt;- pdb$Package[!pdb$Package %in% similar_pkgs]\ndissimilar_pkgs\n#&gt;  [1] \"bigGP\"        \"bigReg\"       \"bspm\"         \"clrng\"        \"compdb\"      \n#&gt;  [6] \"corrcoverage\" \"cronR\"        \"cuda.ml\"      \"doMC\"         \"exif\"        \n#&gt; [11] \"flexiblas\"    \"gcbd\"         \"gpuR\"         \"ieeeround\"    \"littler\"     \n#&gt; [16] \"misha\"        \"MPCR\"         \"naryn\"        \"nice\"         \"RApiDatetime\"\n#&gt; [21] \"RAppArmor\"    \"RcppGetconf\"  \"redcas\"       \"rsahmi\"       \"rspm\"        \n#&gt; [26] \"rsyslog\"      \"tglkmeans\"    \"tgstat\"       \"unix\"\n\n\n\n\n2.4 Paquets doublons\n\n\nCode\npdb |&gt;\n  summarize(n = dplyr::n(), .by = Package) |&gt; \n  dplyr::filter(n &gt; 1) |&gt; \n  dplyr::inner_join(pdb) |&gt; \n  dplyr::select(c(Package, Version, Depends)) \n#&gt;       Package Version                                         Depends\n#&gt; 1        boot  1.3-31                   R (&gt;= 3.0.0), graphics, stats\n#&gt; 2        boot  1.3-31                     R (&gt;= 4.6), graphics, stats\n#&gt; 3       class  7.3-23                      R (&gt;= 3.0.0), stats, utils\n#&gt; 4       class  7.3-23                        R (&gt;= 4.6), stats, utils\n#&gt; 5     cluster 2.1.8.1                                    R (&gt;= 3.5.0)\n#&gt; 6     cluster 2.1.8.1                                      R (&gt;= 4.6)\n#&gt; 7   codetools  0.2-20                                      R (&gt;= 2.1)\n#&gt; 8   codetools  0.2-20                                      R (&gt;= 4.6)\n#&gt; 9     foreign  0.8-90                                    R (&gt;= 4.0.0)\n#&gt; 10    foreign  0.8-90                                      R (&gt;= 4.6)\n#&gt; 11 KernSmooth 2.23-26                             R (&gt;= 2.5.0), stats\n#&gt; 12 KernSmooth 2.23-26                               R (&gt;= 4.6), stats\n#&gt; 13    lattice  0.22-7                                    R (&gt;= 4.0.0)\n#&gt; 14    lattice  0.22-7                                      R (&gt;= 4.6)\n#&gt; 15       MASS  7.3-65 R (&gt;= 4.4.0), grDevices, graphics, stats, utils\n#&gt; 16       MASS  7.3-65   R (&gt;= 4.6), grDevices, graphics, stats, utils\n#&gt; 17     Matrix   1.7-3                             R (&gt;= 4.4), methods\n#&gt; 18     Matrix   1.7-3                             R (&gt;= 4.6), methods\n#&gt; 19       mgcv   1.9-3                  R (&gt;= 3.6.0), nlme (&gt;= 3.1-64)\n#&gt; 20       mgcv   1.9-3                    R (&gt;= 4.6), nlme (&gt;= 3.1-64)\n#&gt; 21       nlme 3.1-168                                    R (&gt;= 3.6.0)\n#&gt; 22       nlme 3.1-168                                      R (&gt;= 4.6)\n#&gt; 23       nnet  7.3-20                      R (&gt;= 3.0.0), stats, utils\n#&gt; 24       nnet  7.3-20                        R (&gt;= 4.6), stats, utils\n#&gt; 25      rpart  4.1.24       R (&gt;= 2.15.0), graphics, stats, grDevices\n#&gt; 26      rpart  4.1.24          R (&gt;= 4.6), graphics, stats, grDevices\n#&gt; 27    spatial  7.3-18            R (&gt;= 3.0.0), graphics, stats, utils\n#&gt; 28    spatial  7.3-18              R (&gt;= 4.6), graphics, stats, utils\n#&gt; 29   survival   3.8-3                                    R (&gt;= 3.5.0)\n#&gt; 30   survival   3.8-3                                      R (&gt;= 4.6)"
  },
  {
    "objectID": "posts/20250107-1_pkg_info/index.html#informations-sur-les-champs",
    "href": "posts/20250107-1_pkg_info/index.html#informations-sur-les-champs",
    "title": "Le dépôt CRAN (Comprehensive R Archive Network)",
    "section": "3 Informations sur les champs",
    "text": "3 Informations sur les champs\n\n3.1 Détermination des champs communs\n\n\nCode\nsimilar_fields &lt;- names(tbl_pkg)[names(tbl_pkg) %in% names(pdb)]\nsimilar_fields\n#&gt;  [1] \"Package\"               \"Version\"               \"Priority\"             \n#&gt;  [4] \"Depends\"               \"Imports\"               \"LinkingTo\"            \n#&gt;  [7] \"Suggests\"              \"Enhances\"              \"License\"              \n#&gt; [10] \"License_is_FOSS\"       \"License_restricts_use\" \"OS_type\"              \n#&gt; [13] \"Archs\"                 \"MD5sum\"                \"NeedsCompilation\"\n\n\n\n\n3.2 Recherche des lignes communes sur la base de ces champs communs\n\n\nCode\ntlb_pkg_same_rows &lt;- tbl_pkg |&gt; \n  select(all_of(similar_fields)) |&gt; \n  arrange(stri_trans_tolower(Package))\n\npdb_same_rows &lt;- pdb |&gt; \n  select(all_of(similar_fields)) |&gt; \n  arrange(stri_trans_tolower(Package)) |&gt; \n  as_tibble()\n\ntbl_same_rows &lt;- pdb_same_rows |&gt; \n  inner_join(tlb_pkg_same_rows, by = similar_fields)\n\n\n\n\n3.3 Lignes présentes dans pdb et absentes de tbl_pkg\n\n\nCode\npdb_diff_rows &lt;- dplyr::setdiff(pdb_same_rows, tbl_same_rows) |&gt; \n  arrange(stri_trans_tolower(Package))\n\npdb_diff_rows[,c(\"Package\", \"Version\", \"Depends\")]\n#&gt; # A tibble: 44 × 3\n#&gt;    Package      Version Depends                                                 \n#&gt;    &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;                                                   \n#&gt;  1 bigGP        0.1.9   \"R (&gt;= 3.0.0), Rmpi (&gt;= 0.6-2), methods\"                \n#&gt;  2 bigReg       0.1.5   \"R (&gt;= 3.2.0), Rcpp (&gt;= 1.0.11), parallel, methods, sta…\n#&gt;  3 boot         1.3-31  \"R (&gt;= 4.6), graphics, stats\"                           \n#&gt;  4 bspm         0.5.7    &lt;NA&gt;                                                   \n#&gt;  5 class        7.3-23  \"R (&gt;= 4.6), stats, utils\"                              \n#&gt;  6 clrng        0.0.5   \"R (&gt;= 3.5.0), gpuR\"                                    \n#&gt;  7 cluster      2.1.8.1 \"R (&gt;= 4.6)\"                                            \n#&gt;  8 codetools    0.2-20  \"R (&gt;= 4.6)\"                                            \n#&gt;  9 compdb       0.0.1    &lt;NA&gt;                                                   \n#&gt; 10 corrcoverage 1.2.1   \"R (&gt;= 3.5.0)\"                                          \n#&gt; # ℹ 34 more rows\n\n\n\n\n3.4 Lignes présentes dans tbl_pkg et absentes de pdb\n\n\nCode\ntbl_pkg_diff_rows &lt;- dplyr::setdiff(tlb_pkg_same_rows, tbl_same_rows) |&gt; \n  arrange(stri_trans_tolower(Package))\n\ntbl_pkg_diff_rows[,c(\"Package\", \"Version\", \"Depends\")]\n#&gt; # A tibble: 0 × 3\n#&gt; # ℹ 3 variables: Package &lt;chr&gt;, Version &lt;chr&gt;, Depends &lt;chr&gt;\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nSur l’ensemble des champs communs Package, Version, Priority, Depends, Imports, LinkingTo, Suggests, Enhances, License, License_is_FOSS, License_restricts_use, OS_type, Archs, MD5sum, NeedsCompilation, le nombre de lignes différentes vaut : 0.\nConclusion :\nPour les colonnes communes, tbl_pkg présnte les mêmes données que pdb.\nOn peut donc se passer de tbl_pkg.\n\n\n\n\n\n3.5 Champs de tbl_pkg absents de pdb\n\n\nCode\ndissimilar_fields &lt;- names(tbl_pkg)[!names(tbl_pkg) %in% names(pdb)]\ndissimilar_fields\n#&gt; [1] \"File\"       \"Repository\"\n\n\nSachant que toutes les lignes de la colonne File contiennent des valeurs NA,\n\nall(is.na(tbl_pkg$File))\n#&gt; [1] TRUE\n\net que toutes les lignes de la colonne Repository contiennent la même valeur,\n\nunique(tbl_pkg$Repository)\n#&gt; [1] \"https://cloud.r-project.org/src/contrib\"\n\nLes données de tbl_pkg, pour les champs de même nom, sont identiques à celles de pdb.\n\n\n3.6 Taille des champs\n\n\n\n\n\n\nNote\n\n\n\n\n\nTous les données contenues dans tbl_pkg et pdb sont de type character\nOn peut donc calculer la taille maximale de caractères utilisés pour les données de chaque champ.\n\n\n\n\n\nCode\nget_property     &lt;- function(tbl, f) sapply(tbl, f)\n\nget_NA_count     &lt;- function(x) sum(is.na(x))\nget_data_count   &lt;- function(x) sum(!is.na(x))\nget_unique_count &lt;- function(x) length(unique(x[!is.na(x)]))\nget_max_nchar    &lt;- function(x) {\n  if (all(is.na(x))) return(0) else return(max(nchar(x[!is.na(x)])))\n}\n\nget_gt_summary &lt;- function(tbl) {\n  \n  data_count   &lt;- tbl |&gt; get_property(get_data_count)\n  NA_count     &lt;- tbl |&gt; get_property(get_NA_count)\n  unique_count &lt;- tbl |&gt; get_property(get_unique_count)\n  max_nchar    &lt;- tbl |&gt; get_property(get_max_nchar)\n  \n  resultat &lt;- t(rbind(data_count, NA_count, unique_count, max_nchar))\n  \n  tbl_summary       &lt;- as_tibble(resultat)\n  tbl_summary$field &lt;- dimnames(resultat)[[1]]\n  tbl_summary       &lt;- tbl_summary |&gt; \n    dplyr::relocate(\"field\")\n  \n  names(tbl_summary) &lt;- c(\"Nom du champ\", \n                          \"# lignes avec données\", \n                          \"# lignes avec NA\", \n                          \"# valeurs différentes\", \n                          \"taille max.\")\n  \n  gt_summary &lt;- gt(tbl_summary) |&gt; \n    tab_header(\n      title     = md(\"Données relatives aux différents champs\"),\n      subtitle  = md(paste(\"Nombre de lignes = \", nrow(tbl)))\n    ) |&gt; \n    tab_footnote(\n      footnote  = md(\"La valeur NA n'est pas comptabilisée\"),\n      locations = cells_column_labels(columns = \"# valeurs différentes\")\n    ) |&gt; \n    tab_footnote(\n      footnote  = md(\"En nombre de caractères (0 si NA pour toutes les lignes)\"),\n      locations = cells_column_labels(columns = \"taille max.\")\n    )\n  \n  return(gt_summary)\n  \n}\n\n\n\n3.6.1 de la table tbl_pkg\n\n\nCode\ngt_summary_tbl_pkg &lt;- get_gt_summary(tbl_pkg)\ngt_summary_tbl_pkg\n\n\n\n\n\n\n\n\nDonnées relatives aux différents champs\n\n\nNombre de lignes = 22423\n\n\nNom du champ\n# lignes avec données\n# lignes avec NA\n# valeurs différentes1\ntaille max.2\n\n\n\n\nPackage\n22423\n0\n22423\n35\n\n\nVersion\n22423\n0\n2380\n14\n\n\nPriority\n23\n22400\n2\n11\n\n\nDepends\n16606\n5817\n4512\n320\n\n\nImports\n18206\n4217\n15485\n717\n\n\nLinkingTo\n3156\n19267\n567\n193\n\n\nSuggests\n15262\n7161\n9419\n1346\n\n\nEnhances\n230\n22193\n206\n601\n\n\nLicense\n22423\n0\n161\n54\n\n\nLicense_is_FOSS\n16\n22407\n2\n3\n\n\nLicense_restricts_use\n12\n22411\n2\n3\n\n\nOS_type\n13\n22410\n1\n7\n\n\nArchs\n20\n22403\n2\n9\n\n\nMD5sum\n22423\n0\n22423\n32\n\n\nNeedsCompilation\n22423\n0\n2\n3\n\n\nFile\n0\n22423\n0\n0\n\n\nRepository\n22423\n0\n1\n39\n\n\n\n1 La valeur NA n’est pas comptabilisée\n\n\n2 En nombre de caractères (0 si NA pour toutes les lignes)\n\n\n\n\n\n\n\n\n\n\n3.6.2 de la table pdb\n\n\nCode\ngt_summary_pdb &lt;- get_gt_summary(pdb)\ngt_summary_pdb\n\n\n\n\n\n\n\n\nDonnées relatives aux différents champs\n\n\nNombre de lignes = 22467\n\n\nNom du champ\n# lignes avec données\n# lignes avec NA\n# valeurs différentes1\ntaille max.2\n\n\n\n\nPackage\n22467\n0\n22452\n35\n\n\nVersion\n22467\n0\n2383\n14\n\n\nPriority\n38\n22429\n2\n11\n\n\nDepends\n16637\n5830\n4527\n320\n\n\nImports\n18230\n4237\n15495\n717\n\n\nLinkingTo\n3164\n19303\n570\n193\n\n\nSuggests\n15293\n7174\n9431\n1346\n\n\nEnhances\n234\n22233\n207\n601\n\n\nLicense\n22467\n0\n162\n54\n\n\nLicense_is_FOSS\n16\n22451\n2\n3\n\n\nLicense_restricts_use\n12\n22455\n2\n3\n\n\nOS_type\n42\n22425\n2\n7\n\n\nArchs\n20\n22447\n2\n9\n\n\nMD5sum\n22467\n0\n22452\n32\n\n\nNeedsCompilation\n22467\n0\n2\n3\n\n\nAdditional_repositories\n168\n22299\n94\n75\n\n\nAuthor\n22467\n0\n19293\n4469\n\n\nAuthors@R\n17688\n4779\n15942\n18532\n\n\nBiarch\n233\n22234\n6\n5\n\n\nBugReports\n10348\n12119\n10276\n84\n\n\nBuildKeepEmpty\n2\n22465\n2\n4\n\n\nBuildManual\n24\n22443\n3\n4\n\n\nBuildResaveData\n35\n22432\n3\n4\n\n\nBuildVignettes\n77\n22390\n4\n4\n\n\nBuilt\n0\n22467\n0\n0\n\n\nByteCompile\n770\n21697\n6\n5\n\n\nClassification/ACM\n17\n22450\n8\n19\n\n\nClassification/ACM-2012\n1\n22466\n1\n255\n\n\nClassification/JEL\n6\n22461\n6\n23\n\n\nClassification/MSC\n25\n22442\n16\n61\n\n\nClassification/MSC-2010\n8\n22459\n8\n33\n\n\nCollate\n1083\n21384\n1083\n5524\n\n\nCollate.unix\n0\n22467\n0\n0\n\n\nCollate.windows\n0\n22467\n0\n0\n\n\nContact\n68\n22399\n47\n176\n\n\nCopyright\n437\n22030\n313\n1082\n\n\nDate\n9125\n13342\n3202\n32\n\n\nDate/Publication\n22467\n0\n22452\n23\n\n\nDescription\n22467\n0\n22446\n7372\n\n\nEncoding\n16596\n5871\n1\n5\n\n\nKeepSource\n15\n22452\n4\n5\n\n\nLanguage\n2346\n20121\n32\n9\n\n\nLazyData\n9545\n12922\n10\n5\n\n\nLazyDataCompression\n306\n22161\n3\n5\n\n\nLazyLoad\n1613\n20854\n9\n5\n\n\nMailingList\n21\n22446\n14\n94\n\n\nMaintainer\n22467\n0\n12602\n86\n\n\nNote\n83\n22384\n63\n701\n\n\nPackaged\n22467\n0\n22443\n156\n\n\nRdMacros\n560\n21907\n10\n17\n\n\nStagedInstall\n13\n22454\n3\n4\n\n\nSysDataCompression\n5\n22462\n2\n4\n\n\nSystemRequirements\n1469\n20998\n734\n530\n\n\nTitle\n22467\n0\n22372\n246\n\n\nType\n13620\n8847\n1\n7\n\n\nURL\n12985\n9482\n12607\n445\n\n\nUseLTO\n13\n22454\n3\n4\n\n\nVignetteBuilder\n8654\n13813\n58\n73\n\n\nZipData\n41\n22426\n5\n4\n\n\nPath\n15\n22452\n1\n17\n\n\nX-CRAN-Comment\n2\n22465\n2\n67\n\n\nPublished\n22467\n0\n3218\n10\n\n\nReverse depends\n1745\n20722\n1602\n5282\n\n\nReverse imports\n5321\n17146\n4921\n46938\n\n\nReverse linking to\n166\n22301\n159\n31542\n\n\nReverse suggests\n4366\n18101\n3820\n113975\n\n\nReverse enhances\n382\n22085\n232\n153\n\n\nDeadline\n393\n22074\n19\n10\n\n\nDOI\n22465\n2\n22450\n57\n\n\n\n1 La valeur NA n’est pas comptabilisée\n\n\n2 En nombre de caractères (0 si NA pour toutes les lignes)\n\n\n\n\n\n\n\n\nLes tailles maximales identiques pour les champs communs dans pdb et tlb_pkg vient corroborer le fait que les données de tbl_pkg sont intégralement contenues dans pdb (à l’exception près signalée au point 4. supra)\n\n\n\n\n\n\nNote\n\n\n\n\n\nLe data.frame pdb sera donc pris comme référence pour l’étude des données concernant les paquets R disponibles sur le CRAN."
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html",
    "href": "posts/20250119-3_pkg_emails/index.html",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "",
    "text": "Code\nlibrary(purrr)\nlibrary(tools)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(ggplot2)\nlibrary(stringi)\nlibrary(gt)\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nChamps conservés dans le data.frame des données relatives aux paquets R sont :\n\nceux pour lesquels on ne trouve aucune données de type NA,\nexcepté le champ Authors@R dont on peut extraire des données pertinentes\n\nAu final sont conservés les champs suivants :\n\nPackage : nom du paquet\nVersion : version en cours\nDepends : dépendances\nLicense : licence associée à l’usage du paquet\nMD5sum : somme de hachage MD5\nNeedsCompilation : nécessité d’une compilation à partir des sources\nAuthor : auteur principal\nAuthors@R : informations complémentaires sur les contributeurs\nDate/Publication : timestamp de publication de version\nDescription : description\nMaintainer : responsable\nPackaged : date de finalisation\nTitle : titre\nPublished : date de publication\n\n\n\n\n\n\nCode\npdb_CRAN &lt;- tools::CRAN_package_db()\n\nfields &lt;- c(\n  \"Package\", \"Version\", \"Depends\", \"License\", \"MD5sum\", \n  \"NeedsCompilation\", \"Author\", \"Authors@R\", \"Date/Publication\", \n  \"Description\", \"Maintainer\", \"Packaged\", \"Title\", \"Published\")\n\npdb_simplified &lt;- pdb_CRAN |&gt; \n  dplyr::select(all_of(fields))"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#simplification-du-data.frame-issu-des-données-du-cran",
    "href": "posts/20250119-3_pkg_emails/index.html#simplification-du-data.frame-issu-des-données-du-cran",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "",
    "text": "Code\nlibrary(purrr)\nlibrary(tools)\nlibrary(dplyr)\nlibrary(tibble)\nlibrary(ggplot2)\nlibrary(stringi)\nlibrary(gt)\n\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nChamps conservés dans le data.frame des données relatives aux paquets R sont :\n\nceux pour lesquels on ne trouve aucune données de type NA,\nexcepté le champ Authors@R dont on peut extraire des données pertinentes\n\nAu final sont conservés les champs suivants :\n\nPackage : nom du paquet\nVersion : version en cours\nDepends : dépendances\nLicense : licence associée à l’usage du paquet\nMD5sum : somme de hachage MD5\nNeedsCompilation : nécessité d’une compilation à partir des sources\nAuthor : auteur principal\nAuthors@R : informations complémentaires sur les contributeurs\nDate/Publication : timestamp de publication de version\nDescription : description\nMaintainer : responsable\nPackaged : date de finalisation\nTitle : titre\nPublished : date de publication\n\n\n\n\n\n\nCode\npdb_CRAN &lt;- tools::CRAN_package_db()\n\nfields &lt;- c(\n  \"Package\", \"Version\", \"Depends\", \"License\", \"MD5sum\", \n  \"NeedsCompilation\", \"Author\", \"Authors@R\", \"Date/Publication\", \n  \"Description\", \"Maintainer\", \"Packaged\", \"Title\", \"Published\")\n\npdb_simplified &lt;- pdb_CRAN |&gt; \n  dplyr::select(all_of(fields))"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#vérification-de-lunicité-des-triplets-package-version-depends",
    "href": "posts/20250119-3_pkg_emails/index.html#vérification-de-lunicité-des-triplets-package-version-depends",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "2 Vérification de l’unicité des triplets (Package, Version, Depends)",
    "text": "2 Vérification de l’unicité des triplets (Package, Version, Depends)\nLe chunk suivant permet de déceler les paquets répétés plusieurs fois.\nBien que de même version ils diffèrent pratiquement au niveau du contenu de la colonne Depends.\nJ’ai interrogé des spécialistes Posit sur le forum dédié ici\n\n\nCode\npkg_version_non_unique &lt;- pdb_CRAN |&gt; \n  group_by(Package, Version) |&gt; \n  summarize(n = n(), .groups = \"drop\") |&gt; \n  filter(n &gt; 1) |&gt; \n  inner_join(pdb_CRAN, by = join_by(Package, Version)) |&gt; \n  select(Package, Version, Depends, `Date/Publication`) |&gt; \n  arrange(tolower(Package), Version, Depends) |&gt;\n  gt()\n\npkg_version_non_unique\n\n\n\n\n\n\n\n\nPackage\nVersion\nDepends\nDate/Publication\n\n\n\n\nboot\n1.3-31\nR (&gt;= 3.0.0), graphics, stats\n2024-08-28 13:20:02 UTC\n\n\nboot\n1.3-31\nR (&gt;= 4.6), graphics, stats\n2024-08-28 13:20:02 UTC\n\n\nclass\n7.3-23\nR (&gt;= 3.0.0), stats, utils\n2025-01-01 10:25:33 UTC\n\n\nclass\n7.3-23\nR (&gt;= 4.6), stats, utils\n2025-01-01 10:25:33 UTC\n\n\ncluster\n2.1.8.1\nR (&gt;= 3.5.0)\n2025-03-12 17:20:02 UTC\n\n\ncluster\n2.1.8.1\nR (&gt;= 4.6)\n2025-03-12 17:20:02 UTC\n\n\ncodetools\n0.2-20\nR (&gt;= 2.1)\n2024-03-31 20:10:06 UTC\n\n\ncodetools\n0.2-20\nR (&gt;= 4.6)\n2024-03-31 20:10:06 UTC\n\n\nforeign\n0.8-90\nR (&gt;= 4.0.0)\n2025-03-31 11:21:11 UTC\n\n\nforeign\n0.8-90\nR (&gt;= 4.6)\n2025-03-31 11:21:11 UTC\n\n\nKernSmooth\n2.23-26\nR (&gt;= 2.5.0), stats\n2025-01-01 10:25:36 UTC\n\n\nKernSmooth\n2.23-26\nR (&gt;= 4.6), stats\n2025-01-01 10:25:36 UTC\n\n\nlattice\n0.22-7\nR (&gt;= 4.0.0)\n2025-04-02 15:40:02 UTC\n\n\nlattice\n0.22-7\nR (&gt;= 4.6)\n2025-04-02 15:40:02 UTC\n\n\nMASS\n7.3-65\nR (&gt;= 4.4.0), grDevices, graphics, stats, utils\n2025-02-28 17:44:52 UTC\n\n\nMASS\n7.3-65\nR (&gt;= 4.6), grDevices, graphics, stats, utils\n2025-02-28 17:44:52 UTC\n\n\nMatrix\n1.7-3\nR (&gt;= 4.4), methods\n2025-03-11 07:20:02 UTC\n\n\nMatrix\n1.7-3\nR (&gt;= 4.6), methods\n2025-03-11 07:20:02 UTC\n\n\nmgcv\n1.9-3\nR (&gt;= 3.6.0), nlme (&gt;= 3.1-64)\n2025-04-04 05:40:02 UTC\n\n\nmgcv\n1.9-3\nR (&gt;= 4.6), nlme (&gt;= 3.1-64)\n2025-04-04 05:40:02 UTC\n\n\nnlme\n3.1-168\nR (&gt;= 3.6.0)\n2025-03-31 11:21:01 UTC\n\n\nnlme\n3.1-168\nR (&gt;= 4.6)\n2025-03-31 11:21:01 UTC\n\n\nnnet\n7.3-20\nR (&gt;= 3.0.0), stats, utils\n2025-01-01 10:25:43 UTC\n\n\nnnet\n7.3-20\nR (&gt;= 4.6), stats, utils\n2025-01-01 10:25:43 UTC\n\n\nrpart\n4.1.24\nR (&gt;= 2.15.0), graphics, stats, grDevices\n2025-01-07 07:30:14 UTC\n\n\nrpart\n4.1.24\nR (&gt;= 4.6), graphics, stats, grDevices\n2025-01-07 07:30:14 UTC\n\n\nspatial\n7.3-18\nR (&gt;= 3.0.0), graphics, stats, utils\n2025-01-01 10:25:46 UTC\n\n\nspatial\n7.3-18\nR (&gt;= 4.6), graphics, stats, utils\n2025-01-01 10:25:46 UTC\n\n\nsurvival\n3.8-3\nR (&gt;= 3.5.0)\n2024-12-17 20:20:02 UTC\n\n\nsurvival\n3.8-3\nR (&gt;= 4.6)\n2024-12-17 20:20:02 UTC\n\n\n\n\n\n\n\n\n2.1 Choose Package, Version row with most Depends constraint (first one)\nJe choisis de ne garder que la ligne correspondant à la version de R maximale nécessaire pour pouvoir installer le paquet dans la version considérée (en considérant que le contenu des colonnes est meilleur sur ce critère)\n\n\nCode\npdb &lt;- pdb_simplified |&gt; \n  group_by(Package, Version) |&gt;\n  arrange(tolower(Package), Version, desc(Depends)) |&gt; \n  mutate(duplicateID = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(duplicateID == 1) |&gt; \n  select(-duplicateID)\n\n\n\n\n\n\n\n\nImportant\n\n\n\n\n\nLe tableau de données pdb vient d’être épurée des lignes redondantes susceptibles de générer des erreurs dans la suite de l’étude."
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#evaluation-du-nombre-maximal-de-mails-présents-dans-la-colonne-authorsr",
    "href": "posts/20250119-3_pkg_emails/index.html#evaluation-du-nombre-maximal-de-mails-présents-dans-la-colonne-authorsr",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "3 Evaluation du nombre maximal de mails présents dans la colonne Authors@R",
    "text": "3 Evaluation du nombre maximal de mails présents dans la colonne Authors@R\n\n\nCode\nemails_count_per_pkg &lt;- pdb$`Authors@R` |&gt; \n  stri_count_regex(pattern = \"[@]\")\n\n# NA result is transformed into a 0 value\nemails_count_per_pkg[is.na(emails_count_per_pkg)] &lt;- 0\n\nemails_total_estimated &lt;- emails_count_per_pkg |&gt; sum()\n\n\nLe nombre d’adresses de messagerie possiblement exploitables correspond au nombre de symboles @ présents dans l’ensemble des données de la colonne Authors@R, soit ici : 34462"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#extraction-des-emails",
    "href": "posts/20250119-3_pkg_emails/index.html#extraction-des-emails",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "4 Extraction des emails",
    "text": "4 Extraction des emails\nLa fonction match_email_in_authors se base sur une expression régulière empirique qui pourra être sensiblement optimisée sur la base de nouvelles connaissances acquises dans ce domaine et des formatages spécifiques adoptés ponctuellement par certains membres de la communauté R.\nLe résultat de la fonction match_email_in_authors est une matrice de correspondances.\n\nmatch_emails_in_authorsR &lt;- function(str) {\n  \n  pattern_email &lt;- \"[\\\"|'|[ ]|[&lt;]]([^\\\"|'|[ ]]+?)[@]{1}(.+?)[\\\"|'|[ ]|[&gt;]]\"\n  resultat &lt;- stringi::stri_match_all_regex(\n              str = str, \n              pattern = pattern_email,\n              omit_no_match = FALSE)[[1]]\n  \n  return(resultat)\n\n}\n\nemails_in_authorsR contient une liste de matrices de correspondances\n\nemails_in_authorsR &lt;- pdb$`Authors@R` |&gt; \n  map(match_emails_in_authorsR)\n\nhead(emails_in_authorsR, n = 4)\n#&gt; [[1]]\n#&gt;      [,1] [,2] [,3]\n#&gt; [1,] NA   NA   NA  \n#&gt; \n#&gt; [[2]]\n#&gt;      [,1]                         [,2]          [,3]        \n#&gt; [1,] \"\\\"martinbladt@math.ku.dk\\\"\" \"martinbladt\" \"math.ku.dk\"\n#&gt; [2,] \"\\\"furrer@math.ku.dk\\\"\"      \"furrer\"      \"math.ku.dk\"\n#&gt; \n#&gt; [[3]]\n#&gt;      [,1]                            [,2]             [,3]        \n#&gt; [1,] \"\\\"sercan.kahveci@plus.ac.at\\\"\" \"sercan.kahveci\" \"plus.ac.at\"\n#&gt; \n#&gt; [[4]]\n#&gt;      [,1] [,2] [,3]\n#&gt; [1,] NA   NA   NA"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#récupération-du-nombre-de-lignes-pour-chacune-des-matrices",
    "href": "posts/20250119-3_pkg_emails/index.html#récupération-du-nombre-de-lignes-pour-chacune-des-matrices",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "5 Récupération du nombre de lignes pour chacune des matrices",
    "text": "5 Récupération du nombre de lignes pour chacune des matrices\nmatch_lines_per_pkg donne, pour chaque paquet, le nombre de lignes de la matrice de correspondances\n\nmatch_lines_per_pkg &lt;- emails_in_authorsR |&gt; \n  map(nrow) |&gt;\n  unlist()\n\nmatch_lines_per_pkg[1:100]\n#&gt;   [1]  1  2  1  1  1  1  2  2  1  1  1  2  1  4  3  1  1  5  1 12  3  1  1  1  3\n#&gt;  [26]  3  5  1  3  7  1  1  1  5  1  2  2  1  4  1  1  1  1  1  5  1  1  1  1  4\n#&gt;  [51]  4  2  2  2  1  1  1  2  1  4  3  1  3  1  1  4  1  1  1  1  3  1  2  1  1\n#&gt;  [76]  4  1  2  3  1  1  1  3  1  3  1  1  1  1  1  1  1  1  3  1  3  2  1  3  1"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#transformation-des-22452-matrices-en-une-seule-matrice",
    "href": "posts/20250119-3_pkg_emails/index.html#transformation-des-22452-matrices-en-une-seule-matrice",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "6 Transformation des 22452 matrices en une seule matrice",
    "text": "6 Transformation des 22452 matrices en une seule matrice\n\nsingle_matrix &lt;- do.call(rbind, emails_in_authorsR)"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#ajout-des-champs-package-version-et-depends-mutation-en-tibble",
    "href": "posts/20250119-3_pkg_emails/index.html#ajout-des-champs-package-version-et-depends-mutation-en-tibble",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "7 Ajout des champs Package, Version et Depends + mutation en tibble",
    "text": "7 Ajout des champs Package, Version et Depends + mutation en tibble\nLe tibble tbl_all_emails_in_authorsR contient l’ensemble des emails pour chaque package (doublons compris).\n\ntbl_all_emails_in_authorsR &lt;- cbind(\n  rep(x = pdb$Package, match_lines_per_pkg),\n  rep(x = pdb$Version, match_lines_per_pkg),\n  rep(x = pdb$Depends, match_lines_per_pkg),\n  single_matrix[,c(2,3)]) |&gt; \n  as_tibble() |&gt; \n  rename(Package  = V1,\n         Version  = V2,\n         Depends  = V3,\n         email_id = V4,\n         email_domain = V5)\n#&gt; Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n#&gt; `.name_repair` is omitted as of tibble 2.0.0.\n#&gt; ℹ Using compatibility `.name_repair`.\n\ntbl_all_emails_in_authorsR[1:10, c(1, 2, 4, 5)] |&gt; gt()\n\n\n\n\n\n\n\nPackage\nVersion\nemail_id\nemail_domain\n\n\n\n\nA3\n1.0.0\nNA\nNA\n\n\nAalenJohansen\n1.0\nmartinbladt\nmath.ku.dk\n\n\nAalenJohansen\n1.0\nfurrer\nmath.ku.dk\n\n\nAATtools\n0.0.3\nsercan.kahveci\nplus.ac.at\n\n\nABACUS\n1.0.0\nNA\nNA\n\n\nabasequence\n0.1.0\nandy.pilny\nuky.edu\n\n\nabbreviate\n0.1\nsigbert\nhu-berlin.de\n\n\nabc\n2.2.2\nkati.csillery\ngmail.com\n\n\nabc\n2.2.2\nmichael.blum.temp\ngmail.com\n\n\nabc.data\n1.1\nkati.csillery\ngmail.com"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#création-dun-tibble-sans-les-emails-doublons",
    "href": "posts/20250119-3_pkg_emails/index.html#création-dun-tibble-sans-les-emails-doublons",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "8 Création d’un tibble sans les emails doublons",
    "text": "8 Création d’un tibble sans les emails doublons\ntbl_unique_emails_in_authorsR contient des emails non redondants\n\ntbl_unique_emails_in_authorsR &lt;- tbl_all_emails_in_authorsR |&gt; unique()"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#comparatif-du-nombre-demails-trouvés-par-rapport-au-nombre-estimé",
    "href": "posts/20250119-3_pkg_emails/index.html#comparatif-du-nombre-demails-trouvés-par-rapport-au-nombre-estimé",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "9 Comparatif du nombre d’emails trouvés par rapport au nombre estimé",
    "text": "9 Comparatif du nombre d’emails trouvés par rapport au nombre estimé\n\n\n\n\n\n\nImportant\n\n\n\n\n\nLe champ emails_count du tibble `donne le nombre total d’adresses de messagerie, adresses dupliquées comprises.\n\n\n\n\n\nCode\nsummary_emails_per_pkg &lt;- tbl_all_emails_in_authorsR |&gt; \n  mutate(n = if_else(is.na(email_id) & is.na(email_domain), 0, 1)) |&gt; \n  summarize(.by = c(Package, Version, Depends), emails_count = sum(n)) |&gt; \n  mutate(emails_count_estimated = emails_count_per_pkg) |&gt; \n  mutate(diff_emails_count = emails_count_estimated - emails_count)\n\nsummary_emails_per_pkg[1:10, ] |&gt; gt() \n\n\n\n\n\n\n\n\nPackage\nVersion\nDepends\nemails_count\nemails_count_estimated\ndiff_emails_count\n\n\n\n\nA3\n1.0.0\nR (&gt;= 2.15.0), xtable, pbapply\n0\n0\n0\n\n\nAalenJohansen\n1.0\nNA\n2\n2\n0\n\n\nAATtools\n0.0.3\nR (&gt;= 3.6.0)\n1\n1\n0\n\n\nABACUS\n1.0.0\nR (&gt;= 3.1.0)\n0\n0\n0\n\n\nabasequence\n0.1.0\nNA\n1\n1\n0\n\n\nabbreviate\n0.1\nNA\n1\n1\n0\n\n\nabc\n2.2.2\nR (&gt;= 2.10), abc.data, nnet, quantreg, MASS, locfit\n2\n2\n0\n\n\nabc.data\n1.1\nR (&gt;= 2.10)\n2\n2\n0\n\n\nABC.RAP\n0.9.0\nR (&gt;= 3.1.0)\n0\n0\n0\n\n\nABCanalysis\n1.2.1\nR (&gt;= 2.10)\n0\n0\n0\n\n\n\n\n\n\n\nCode\n\ntotal_emails_count &lt;- summary_emails_per_pkg |&gt; \n  summarize(total_emails = sum(emails_count)) |&gt; \n  pull()\n\n\nLe nombre total d’adresse de messagerie trouvées (doublons compris) vaut 34429 à comparer avec les 34462 symboles @ découverts dans l’ensemble des champs Authors@R\n\n9.1 Récupération des lignes où le nombre d’emails n’est pas celui espéré\nOn compare la valeur du champ emails_count à celle du champ emails_count_estimated (Parce que les adresses doublons sont considérées comme adresses valides)\n\n\nCode\ntbl_diff_emails_count_non_zero &lt;- summary_emails_per_pkg |&gt; \n  filter(diff_emails_count != 0)\n\ndiff_emails_count &lt;- tbl_diff_emails_count_non_zero |&gt; \n  summarize(difference_totale = sum(diff_emails_count))\n\ntbl_diff_emails_count_non_zero |&gt; \n  select(Package, emails_count, emails_count_estimated, diff_emails_count) |&gt; \n  gt()\n\n\n\n\n\n\n\n\nPackage\nemails_count\nemails_count_estimated\ndiff_emails_count\n\n\n\n\nCRediTas\n1\n3\n2\n\n\ndabr\n1\n2\n1\n\n\ndata.table\n4\n6\n2\n\n\nfullRankMatrix\n2\n4\n2\n\n\nfxTWAPLS\n5\n6\n1\n\n\nggcorrplot\n2\n3\n1\n\n\nGGIR\n4\n5\n1\n\n\nggsignif\n2\n4\n2\n\n\nggtext\n2\n3\n1\n\n\ngridtext\n2\n3\n1\n\n\nlintr\n2\n3\n1\n\n\nmeltr\n3\n4\n1\n\n\nMLPUGS\n1\n2\n1\n\n\nphonetisr\n0\n1\n1\n\n\npipebind\n1\n2\n1\n\n\nrticulate\n0\n1\n1\n\n\nScorePlus\n3\n4\n1\n\n\nspeakr\n0\n1\n1\n\n\nstochLAB\n4\n5\n1\n\n\nstyler\n3\n4\n1\n\n\ntidyfast\n2\n3\n1\n\n\ntidygam\n0\n1\n1\n\n\nurlshorteneR\n1\n4\n3\n\n\nWikidataQueryServiceR\n1\n2\n1\n\n\nwordPuzzleR\n2\n3\n1\n\n\nWufooR\n1\n3\n2\n\n\n\n\n\n\n\nL’examen des champs Authors associés aux packages montre que le nombre d’emails a été surestimé par rapport au décompte du nombre de symboles @.\nIl existe 33 expressions contenant un symboles @ qui ne correspondent pas à des adresses de messagerie.\nEn effet, on note la présence d’items au format @&lt;chaine de caractères&gt; qui ne respectent pas la norme.\n\n\n9.2 Affichage des items comportant des symboles @ qui ne sont pas des emails\n\n\nCode\nselect_not_email_items &lt;- function(pkg) {\n  \n  not_email_items &lt;- tbl_diff_emails_count_non_zero |&gt; \n    left_join(pdb, by = c(\"Package\", \"Version\", \"Depends\")) |&gt; \n    filter(Package == pkg) |&gt; \n    select(Package, `Authors@R`) |&gt; \n    pull() |&gt; \n    stri_match_all_regex(pattern = \"[\\\"|\\'|[ ]]([@][A-Za-z\\\\.\\\\-]+)\")\n  return(not_email_items[[1]][,2])\n  \n}\n\ntbl_pkg_with_not_email_items &lt;- tbl_diff_emails_count_non_zero |&gt; \n  rowwise() |&gt; \n  mutate(\n    not_email_items = list(select_not_email_items(pkg = Package)),\n    count = list(length(not_email_items)),\n    count = ifelse(any(is.na(not_email_items)), 0, count)\n  ) |&gt; \n  select(Package, not_email_items, count)\n\ntbl_pkg_with_not_email_items |&gt; \n  gt() |&gt; \n  tab_header(\n    title    = md(\"**Packages with not email items including `@` symbol**\"),\n    subtitle = md(paste(\"Total = \", sum(tbl_pkg_with_not_email_items$count)))\n  )\n\n\n\n\n\n\n\n\nPackages with not email items including @ symbol\n\n\nTotal = 25\n\n\nPackage\nnot_email_items\ncount\n\n\n\n\nCRediTas\n@msperlin, @zambujo\n2\n\n\ndabr\nNA\n0\n\n\ndata.table\n@javrucebo, @marc-outins\n2\n\n\nfullRankMatrix\n@PaulaH, @const\n2\n\n\nfxTWAPLS\nNA\n0\n\n\nggcorrplot\n@patilindrajeets\n1\n\n\nGGIR\nNA\n0\n\n\nggsignif\n@const, @patilindrajeets\n2\n\n\nggtext\n@bmwiernik\n1\n\n\ngridtext\n@bmwiernik\n1\n\n\nlintr\n@patilindrajeets\n1\n\n\nmeltr\n@nacnudus\n1\n\n\nMLPUGS\n@bearloga\n1\n\n\nphonetisr\nNA\n0\n\n\npipebind\n@bmwiernik\n1\n\n\nrticulate\nNA\n0\n\n\nScorePlus\nNA\n0\n\n\nspeakr\nNA\n0\n\n\nstochLAB\n@kstreet\n1\n\n\nstyler\n@patilindrajeets\n1\n\n\ntidyfast\n@patilindrajeets\n1\n\n\ntidygam\nNA\n0\n\n\nurlshorteneR\n@dmpe, @andodet, @yogat\n3\n\n\nWikidataQueryServiceR\n@bearloga\n1\n\n\nwordPuzzleR\n@olivory\n1\n\n\nWufooR\n@dmpe, @MrMaksimize\n2"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#extraction-des-tlds",
    "href": "posts/20250119-3_pkg_emails/index.html#extraction-des-tlds",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "10 Extraction des TLDs",
    "text": "10 Extraction des TLDs\nLa fonction match_tld_in_email_domain récupère le TLD (Top Level Domain)\n\nmatch_tld_in_email_domain &lt;- function(str) {\n  \n  pattern_tld    &lt;- \"([^[.]]+$)\"\n  resultat &lt;- stringi::stri_match_all_regex(\n              str = str, \n              pattern = pattern_tld,\n              omit_no_match = FALSE)[[1]]\n  \n  return(resultat[,2])\n\n}"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#création-du-tibble-tbl_emails-à-partir-de-tbl_unique_emails_in_authorsr",
    "href": "posts/20250119-3_pkg_emails/index.html#création-du-tibble-tbl_emails-à-partir-de-tbl_unique_emails_in_authorsr",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "11 Création du tibble tbl_emails à partir de tbl_unique_emails_in_authorsR",
    "text": "11 Création du tibble tbl_emails à partir de tbl_unique_emails_in_authorsR\nOn rajoute seulement le champ tld\n\ntbl_emails &lt;- tbl_unique_emails_in_authorsR |&gt;\n  filter(!is.na(email_id) & !is.na(email_domain)) |&gt; \n  rowwise() |&gt; \n  mutate(tld = match_tld_in_email_domain(email_domain)) |&gt; \n  as_tibble() # else it causes error with summarize function\n              # Can't supply `.by` when `.data` is a rowwise data frame.\n              # because of rowwise_df class"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#sauvegarde-des-informations-sur-les-adresses-de-messagerie",
    "href": "posts/20250119-3_pkg_emails/index.html#sauvegarde-des-informations-sur-les-adresses-de-messagerie",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "12 Sauvegarde des informations sur les adresses de messagerie",
    "text": "12 Sauvegarde des informations sur les adresses de messagerie\n\n\nCode\n################ TO DO"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#décompte-des-email_id-email_domain-et-tld",
    "href": "posts/20250119-3_pkg_emails/index.html#décompte-des-email_id-email_domain-et-tld",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "13 Décompte des email_id, email_domain et tld",
    "text": "13 Décompte des email_id, email_domain et tld\n\n\n\n\n\n\nNote\n\n\n\n\n\nSur les 34348 recensés on dénombre :\n\n20081 emails différents,\n4229 serveurs de messagerie différents,\n159 TLD différents,"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#rapport-sur-les-emails",
    "href": "posts/20250119-3_pkg_emails/index.html#rapport-sur-les-emails",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "14 Rapport sur les emails",
    "text": "14 Rapport sur les emails\n\n14.1 classement du nombre d’emails (dans le champ Authors@R) par package R\n\ntbl_emails |&gt; \n  summarize(email_per_pkg = n(), .by = \"Package\") |&gt;  \n  arrange(desc(email_per_pkg)) |&gt;\n  print(n = 20)\n#&gt; # A tibble: 17,670 × 2\n#&gt;    Package         email_per_pkg\n#&gt;    &lt;chr&gt;                   &lt;int&gt;\n#&gt;  1 mlpack                    150\n#&gt;  2 broom                     109\n#&gt;  3 FAIRmaterials              50\n#&gt;  4 moderndive                 43\n#&gt;  5 rticles                    43\n#&gt;  6 mlr                        28\n#&gt;  7 semTools                   27\n#&gt;  8 skimr                      25\n#&gt;  9 netSEM                     24\n#&gt; 10 httk                       23\n#&gt; 11 fgeo                       22\n#&gt; 12 Seurat                     22\n#&gt; 13 fivethirtyeight            21\n#&gt; 14 mice                       20\n#&gt; 15 shinyscholar               20\n#&gt; 16 tmap                       19\n#&gt; 17 wallace                    19\n#&gt; 18 EpiNow2                    18\n#&gt; 19 Rage                       18\n#&gt; 20 refund                     18\n#&gt; # ℹ 17,650 more rows\n\n\n\n14.2 classement par occurrences d’emails\n\nemail_occurrences &lt;- emails |&gt; \n  summarize(n = n(), .by = \"email\") |&gt;\n  arrange(desc(n), email)\n\ngt_email_occurrences &lt;- gt(email_occurrences |&gt; dplyr::filter(n &gt;= 30)) |&gt; \n  tab_header(\n    title    = md(\"**Email in packages db sorted by occurrences**\"),\n    subtitle = md(paste(\"**( email displayed only for n &gt;= 30 )**\"))\n  ) |&gt; \n  tab_footnote(\n    footnote  = md(paste(\"Données valables pour le \", Sys.Date())),\n    locations = cells_column_labels()\n  )\n\ngt_email_occurrences\n\n\n\n\n\n\n\nEmail in packages db sorted by occurrences\n\n\n( email displayed only for n &gt;= 30 )\n\n\nemail1\nn1\n\n\n\n\nedd@debian.org\n64\n\n\nAchim.Zeileis@R-project.org\n59\n\n\nhadley@posit.co\n59\n\n\njeroenooms@gmail.com\n54\n\n\nhadley@rstudio.com\n51\n\n\ncsardi.gabor@gmail.com\n50\n\n\nlaurent_step@outlook.fr\n50\n\n\nKurt.Hornik@R-project.org\n49\n\n\nmyrmecocystus@gmail.com\n43\n\n\nhenrikb@braju.com\n41\n\n\nmdsumner@gmail.com\n39\n\n\nmtsagris@uoc.gr\n38\n\n\nmuschellij2@gmail.com\n38\n\n\nmaechler@stat.math.ethz.ch\n37\n\n\nmichellang@gmail.com\n35\n\n\nguangchuangyu@gmail.com\n34\n\n\nTorsten.Hothorn@R-project.org\n33\n\n\nhankin.robin@gmail.com\n31\n\n\ncboettig@gmail.com\n30\n\n\nmax@posit.co\n30\n\n\nxie@yihui.name\n30\n\n\n\n1 Données valables pour le 2025-05-28\n\n\n\n\n\n\n\n\n\n\n14.3 graphe log log\n\n\ntable_email_occurrences &lt;- table(email_occurrences$n)\ntbl_email_occurences &lt;- table_email_occurrences |&gt; \n  as.matrix() |&gt; \n  as_tibble() |&gt; \n  dplyr::mutate(n = as.numeric(dimnames(table_email_occurrences)[[1]])) |&gt; \n  rename(frequence = V1)\n\nggplot(data = tbl_email_occurences) +\n  geom_point(aes(x = log(n), y = log(frequence))) +\n  geom_smooth(method = 'lm', aes(x = log(n), y = log(frequence))) +\n  labs(\n    title = \"Log-log graph relatively to email occurrence frequencies\",\n    x = \"email occurrences (log scale)\",\n    y = \"frequency (log scale)\"\n  )\n#&gt; `geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\neq &lt;- lm(log(frequence) ~ log(n), data = tbl_email_occurences)\n\neq$coefficients\n#&gt; (Intercept)      log(n) \n#&gt;    9.518201   -2.513853\n\n\n\n\n\n\n\nNote\n\n\n\n\n\nSoit n le nombre d’occurrences d’un email\nSoit freq le nombre d’emails apparaissant avec cette occurrence n\nOn a \\[\\ln(freq) = a \\times \\ln(n) + b\\] Soit \\[e^{\\ln(freq)} = e^{a \\times \\ln(n)} \\times e^b\\] Soit \\[freq = e^{\\ln(n^a)} \\times e^b\\] Soit \\[freq = n^a \\times e^b\\] avec \\(a =\\) -2.5138532 et \\(b =\\) 9.5182008"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#rapport-sur-les-noms-de-domaines",
    "href": "posts/20250119-3_pkg_emails/index.html#rapport-sur-les-noms-de-domaines",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "15 Rapport sur les noms de domaines",
    "text": "15 Rapport sur les noms de domaines\n\n15.1 classement par occurrences de serveurs de messagerie\n\nmail_server_occurrences &lt;- tbl_emails |&gt;\n  select(email_id, email_domain) |&gt; \n  unique() |&gt; \n  summarize(n = n(), .by = \"email_domain\") |&gt;\n  arrange(desc(n), \"email_domain\")\n\ngt_mail_server_occurrences &lt;- gt(mail_server_occurrences |&gt; \n                                   dplyr::filter(n &gt;= 50)) |&gt; \n  tab_header(\n    title    = md(\"**Mail server in packages db sorted by occurrences**\"),\n    subtitle = md(paste(\"**( Mail server displayed only for n &gt;= 50 )**\"))\n  ) |&gt; \n  tab_footnote(\n    footnote  = md(paste(\"Données valables pour le \", Sys.Date())),\n    locations = cells_column_labels()\n  )\n\ngt_mail_server_occurrences\n\n\n\n\n\n\n\nMail server in packages db sorted by occurrences\n\n\n( Mail server displayed only for n &gt;= 50 )\n\n\nemail_domain1\nn1\n\n\n\n\ngmail.com\n5607\n\n\nhotmail.com\n180\n\n\noutlook.com\n154\n\n\numich.edu\n132\n\n\n163.com\n97\n\n\nuw.edu\n89\n\n\ninrae.fr\n86\n\n\nyahoo.com\n84\n\n\ncase.edu\n82\n\n\nberkeley.edu\n72\n\n\nroche.com\n65\n\n\nprotonmail.com\n64\n\n\numn.edu\n59\n\n\nyale.edu\n54\n\n\ncornell.edu\n54\n\n\nduke.edu\n54\n\n\nucdavis.edu\n51\n\n\n\n1 Données valables pour le 2025-05-28\n\n\n\n\n\n\n\n\n\n\n15.2 classement par occurrences de TLD\n\nTLD_occurrences &lt;- tbl_emails |&gt; \n  select(email_id, email_domain, tld) |&gt; \n  unique() |&gt; \n  summarize(n = n(), .by = \"tld\") |&gt;\n  arrange(desc(n), tld)\n\ngt_TLD_occurrences &lt;- gt(TLD_occurrences |&gt; dplyr::filter(n &gt;= 100)) |&gt; \n  tab_header(\n    title    = md(\"**Mail server TLDs in packages db sorted by occurrences**\"),\n    subtitle = md(paste(\"**( Mail server TLD displayed only for n &gt;= 100 )**\"))\n  ) |&gt; \n  tab_footnote(\n    footnote  = md(paste(\"Données valables pour le \", Sys.Date())),\n    locations = cells_column_labels()\n    )\n\ngt_TLD_occurrences\n\n\n\n\n\n\n\nMail server TLDs in packages db sorted by occurrences\n\n\n( Mail server TLD displayed only for n &gt;= 100 )\n\n\ntld1\nn1\n\n\n\n\ncom\n7661\n\n\nedu\n3555\n\n\nde\n1108\n\n\nuk\n798\n\n\nfr\n669\n\n\norg\n642\n\n\nca\n568\n\n\nes\n348\n\n\nit\n346\n\n\nau\n336\n\n\nch\n311\n\n\nnl\n310\n\n\nbr\n260\n\n\ngov\n248\n\n\ncn\n226\n\n\nnet\n166\n\n\nat\n160\n\n\nbe\n152\n\n\ndk\n138\n\n\nco\n137\n\n\nno\n114\n\n\n\n1 Données valables pour le 2025-05-28"
  },
  {
    "objectID": "posts/20250119-3_pkg_emails/index.html#trouver-les-paquets-selon-difféntes-info-contenues-dans-lemail",
    "href": "posts/20250119-3_pkg_emails/index.html#trouver-les-paquets-selon-difféntes-info-contenues-dans-lemail",
    "title": "Récupération de données de messagerie à partir du dépôt CRAN",
    "section": "16 Trouver les paquets selon difféntes info contenues dans l’email",
    "text": "16 Trouver les paquets selon difféntes info contenues dans l’email\n\n16.1 via l’email en entier\n\nfind_pkgs_by_email &lt;- function(email_id) {\n  \n  resultat &lt;- emails |&gt;\n  filter(email == email_id) |&gt;\n  select(Package) |&gt;\n  distinct() |&gt; \n  arrange() |&gt; \n  pull()\n  \n  return(resultat)\n  \n}\n\nemail_id &lt;- \"hadley@posit.co\"\nfind_pkgs_by_email(email_id)\n#&gt; character(0)\n\n\n\n16.2 via le nom de domaine\n\nfind_pkgs_by_domain &lt;- function(domain) {\n  \n  resultat &lt;- tbl_emails |&gt;\n  dplyr::filter(email_domain == domain) |&gt;\n  select(Package) |&gt;\n  distinct() |&gt; \n  arrange() |&gt; \n  pull()\n  \n  return(resultat)\n  \n}\n\ndomain &lt;- \"thinkr.fr\"\nfind_pkgs_by_domain(domain)\n#&gt;  [1] \"arpr\"         \"attachment\"   \"checkhelper\"  \"dockerfiler\"  \"fakir\"       \n#&gt;  [6] \"fusen\"        \"gitdown\"      \"golem\"        \"leafgl\"       \"lightparser\" \n#&gt; [11] \"recforest\"    \"rtodoist\"     \"rusk\"         \"shinipsum\"    \"shiny2docker\"\n#&gt; [16] \"thinkr\"       \"togglr\"\n\n\n\n16.3 via le tld du nom de domaine\n\nfind_pkgs_by_tld &lt;- function(tld_id) {\n  \n  resultat &lt;- tbl_emails |&gt;\n  dplyr::filter(tld == tld_id) |&gt;\n  select(Package) |&gt;\n  distinct() |&gt; \n  arrange() |&gt; \n  pull()\n  \n  return(resultat)\n  \n}\n\ntld_id &lt;- \"fr\"\nfind_pkgs_by_tld(tld_id) |&gt; length()\n#&gt; [1] 750"
  },
  {
    "objectID": "posts/20250201_pkgnet/index.html",
    "href": "posts/20250201_pkgnet/index.html",
    "title": "pkgnet package",
    "section": "",
    "text": "Code\nlibrary(pkgnet)\n\n\n\n\n# CreatePackageReport(pkg_name = \"rvest\")"
  },
  {
    "objectID": "posts/20250201_pkgnet/index.html#paquets-r",
    "href": "posts/20250201_pkgnet/index.html#paquets-r",
    "title": "pkgnet package",
    "section": "",
    "text": "Code\nlibrary(pkgnet)\n\n\n\n\n# CreatePackageReport(pkg_name = \"rvest\")"
  }
]